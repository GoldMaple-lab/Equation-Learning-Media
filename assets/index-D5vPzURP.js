(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var xd={exports:{}},ml={};var I_;function yS(){if(I_)return ml;I_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return ml.Fragment=t,ml.jsx=i,ml.jsxs=i,ml}var x_;function _S(){return x_||(x_=1,xd.exports=yS()),xd.exports}var M=_S(),Nd={exports:{}},Et={};var N_;function vS(){if(N_)return Et;N_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),x=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function $(O,Y,st){this.props=O,this.context=Y,this.refs=tt,this.updater=st||Z}$.prototype.isReactComponent={},$.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},$.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function nt(){}nt.prototype=$.prototype;function rt(O,Y,st){this.props=O,this.context=Y,this.refs=tt,this.updater=st||Z}var gt=rt.prototype=new nt;gt.constructor=rt,et(gt,$.prototype),gt.isPureReactComponent=!0;var xt=Array.isArray;function Rt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,Y,st){var ot=st.ref;return{$$typeof:s,type:O,key:Y,ref:ot!==void 0?ot:null,props:st}}function V(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function se(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,st,ot,_t){var bt=typeof O;(bt==="undefined"||bt==="boolean")&&(O=null);var Lt=!1;if(O===null)Lt=!0;else switch(bt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(O.$$typeof){case s:case t:Lt=!0;break;case S:return Lt=O._init,G(Lt(O._payload),Y,st,ot,_t)}}if(Lt)return _t=_t(O),Lt=ot===""?"."+se(O,0):ot,xt(_t)?(st="",Lt!=null&&(st=Lt.replace(w,"$&/")+"/"),G(_t,Y,st,"",function(sr){return sr})):_t!=null&&(D(_t)&&(_t=V(_t,st+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(w,"$&/")+"/")+Lt)),Y.push(_t)),1;Lt=0;var Ie=ot===""?".":ot+":";if(xt(O))for(var re=0;re<O.length;re++)ot=O[re],bt=Ie+se(ot,re),Lt+=G(ot,Y,st,bt,_t);else if(re=H(O),typeof re=="function")for(O=re.call(O),re=0;!(ot=O.next()).done;)ot=ot.value,bt=Ie+se(ot,re++),Lt+=G(ot,Y,st,bt,_t);else if(bt==="object"){if(typeof O.then=="function")return G(Ce(O),Y,st,ot,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function it(O,Y,st){if(O==null)return O;var ot=[],_t=0;return G(O,ot,"","",function(bt){return Y.call(st,bt,_t++)}),ot}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:it,forEach:function(O,Y,st){it(O,function(){Y.apply(this,arguments)},st)},count:function(O){var Y=0;return it(O,function(){Y++}),Y},toArray:function(O){return it(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Et.Activity=A,Et.Children=Ft,Et.Component=$,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=rt,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Et.cache=function(O){return function(){return O.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(O,Y,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ot=et({},O.props),_t=O.key;if(Y!=null)for(bt in Y.key!==void 0&&(_t=""+Y.key),Y)!b.call(Y,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&Y.ref===void 0||(ot[bt]=Y[bt]);var bt=arguments.length-2;if(bt===1)ot.children=st;else if(1<bt){for(var Lt=Array(bt),Ie=0;Ie<bt;Ie++)Lt[Ie]=arguments[Ie+2];ot.children=Lt}return C(O.type,_t,ot)},Et.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Et.createElement=function(O,Y,st){var ot,_t={},bt=null;if(Y!=null)for(ot in Y.key!==void 0&&(bt=""+Y.key),Y)b.call(Y,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=Y[ot]);var Lt=arguments.length-2;if(Lt===1)_t.children=st;else if(1<Lt){for(var Ie=Array(Lt),re=0;re<Lt;re++)Ie[re]=arguments[re+2];_t.children=Ie}if(O&&O.defaultProps)for(ot in Lt=O.defaultProps,Lt)_t[ot]===void 0&&(_t[ot]=Lt[ot]);return C(O,bt,_t)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(O){return{$$typeof:g,render:O}},Et.isValidElement=D,Et.lazy=function(O){return{$$typeof:S,_payload:{_status:-1,_result:O},_init:ft}},Et.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Et.startTransition=function(O){var Y=I.T,st={};I.T=st;try{var ot=O(),_t=I.S;_t!==null&&_t(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Rt,Pt)}catch(bt){Pt(bt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),I.T=Y}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(O){return I.H.use(O)},Et.useActionState=function(O,Y,st){return I.H.useActionState(O,Y,st)},Et.useCallback=function(O,Y){return I.H.useCallback(O,Y)},Et.useContext=function(O){return I.H.useContext(O)},Et.useDebugValue=function(){},Et.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},Et.useEffect=function(O,Y){return I.H.useEffect(O,Y)},Et.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(O,Y,st){return I.H.useImperativeHandle(O,Y,st)},Et.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},Et.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},Et.useMemo=function(O,Y){return I.H.useMemo(O,Y)},Et.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},Et.useReducer=function(O,Y,st){return I.H.useReducer(O,Y,st)},Et.useRef=function(O){return I.H.useRef(O)},Et.useState=function(O){return I.H.useState(O)},Et.useSyncExternalStore=function(O,Y,st){return I.H.useSyncExternalStore(O,Y,st)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.3",Et}var D_;function Tm(){return D_||(D_=1,Nd.exports=vS()),Nd.exports}var $t=Tm(),Dd={exports:{}},gl={},Od={exports:{}},Md={};var O_;function ES(){return O_||(O_=1,(function(s){function t(G,it){var ft=G.length;G.push(it);t:for(;0<ft;){var Pt=ft-1>>>1,Ft=G[Pt];if(0<l(Ft,it))G[Pt]=it,G[ft]=Ft,ft=Pt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ft=G.pop();if(ft!==it){G[0]=ft;t:for(var Pt=0,Ft=G.length,O=Ft>>>1;Pt<O;){var Y=2*(Pt+1)-1,st=G[Y],ot=Y+1,_t=G[ot];if(0>l(st,ft))ot<Ft&&0>l(_t,st)?(G[Pt]=_t,G[ot]=ft,Pt=ot):(G[Pt]=st,G[Y]=ft,Pt=Y);else if(ot<Ft&&0>l(_t,ft))G[Pt]=_t,G[ot]=ft,Pt=ot;else break t}}return it}function l(G,it){var ft=G.sortIndex-it.sortIndex;return ft!==0?ft:G.id-it.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],y=[],S=1,A=null,x=3,H=!1,Z=!1,et=!1,tt=!1,$=typeof setTimeout=="function"?setTimeout:null,nt=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function gt(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function xt(G){if(et=!1,gt(G),!Z)if(i(_)!==null)Z=!0,Rt||(Rt=!0,L());else{var it=i(y);it!==null&&Ce(xt,it.startTime-G)}}var Rt=!1,I=-1,b=5,C=-1;function V(){return tt?!0:!(s.unstable_now()-C<b)}function D(){if(tt=!1,Rt){var G=s.unstable_now();C=G;var it=!0;try{t:{Z=!1,et&&(et=!1,nt(I),I=-1),H=!0;var ft=x;try{e:{for(gt(G),A=i(_);A!==null&&!(A.expirationTime>G&&V());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,x=A.priorityLevel;var Ft=Pt(A.expirationTime<=G);if(G=s.unstable_now(),typeof Ft=="function"){A.callback=Ft,gt(G),it=!0;break e}A===i(_)&&a(_),gt(G)}else a(_);A=i(_)}if(A!==null)it=!0;else{var O=i(y);O!==null&&Ce(xt,O.startTime-G),it=!1}}break t}finally{A=null,x=ft,H=!1}it=void 0}}finally{it?L():Rt=!1}}}var L;if(typeof rt=="function")L=function(){rt(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,se=w.port2;w.port1.onmessage=D,L=function(){se.postMessage(null)}}else L=function(){$(D,0)};function Ce(G,it){I=$(function(){G(s.unstable_now())},it)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(G){switch(x){case 1:case 2:case 3:var it=3;break;default:it=x}var ft=x;x=it;try{return G()}finally{x=ft}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=x;x=G;try{return it()}finally{x=ft}},s.unstable_scheduleCallback=function(G,it,ft){var Pt=s.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ft+Ft,G={id:S++,callback:it,priorityLevel:G,startTime:ft,expirationTime:Ft,sortIndex:-1},ft>Pt?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(et?(nt(I),I=-1):et=!0,Ce(xt,ft-Pt))):(G.sortIndex=Ft,t(_,G),Z||H||(Z=!0,Rt||(Rt=!0,L()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var it=x;return function(){var ft=x;x=it;try{return G.apply(this,arguments)}finally{x=ft}}}})(Md)),Md}var M_;function TS(){return M_||(M_=1,Od.exports=ES()),Od.exports}var Vd={exports:{}},Xe={};var V_;function SS(){if(V_)return Xe;V_=1;var s=Tm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)y+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:A==null?null:""+A,children:_,containerInfo:y,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(_,y){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,S)},Xe.flushSync=function(_){var y=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=S,a.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;S==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:x,fetchPriority:H}):S==="script"&&a.d.X(_,{crossOrigin:A,integrity:x,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var S=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var S=y.as,A=g(S,y.crossOrigin);a.d.L(_,S,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var S=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Xe.requestFormReset=function(_){a.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,S){return d.H.useFormState(_,y,S)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var k_;function AS(){if(k_)return Vd.exports;k_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=SS(),Vd.exports}var L_;function bS(){if(L_)return gl;L_=1;var s=TS(),t=Tm(),i=AS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===r){p=!0,r=h,o=f;break}if(E===o){p=!0,o=h,r=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===r){p=!0,r=f,o=h;break}if(E===o){p=!0,o=f,r=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),nt=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function se(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case $:return"Profiler";case tt:return"StrictMode";case xt:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case rt:return e.displayName||"Context";case nt:return(e._context.displayName||"Context")+".Consumer";case gt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:se(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return se(e(n))}catch{}}return null}var Ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function O(e){return{current:e}}function Y(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function st(e,n){Ft++,Pt[Ft]=e.current,e.current=n}var ot=O(null),_t=O(null),bt=O(null),Lt=O(null);function Ie(e,n){switch(st(bt,n),st(_t,e),st(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=$y(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ot),st(ot,e)}function re(){Y(ot),Y(_t),Y(bt)}function sr(e){e.memoizedState!==null&&st(Lt,e);var n=ot.current,r=$y(n,e.type);n!==r&&(st(_t,e),st(ot,r))}function Qr(e){_t.current===e&&(Y(ot),Y(_t)),Lt.current===e&&(Y(Lt),cl._currentValue=ft)}var Yr,Xr;function Wn(e){if(Yr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Xr}var uo=!1;function rr(e,n){if(!e||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var j=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){j=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){j=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var R=p.split(`
`),z=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===z.length)for(o=R.length-1,h=z.length-1;1<=o&&0<=h&&R[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==z[h]){var F=`
`+R[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Wn(r):""}function co(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return Wn("Activity");default:return""}}function ho(e){try{var n="",r=null;do n+=co(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,is=s.unstable_cancelCallback,Nh=s.unstable_shouldYield,Xl=s.unstable_requestPaint,tn=s.unstable_now,ar=s.unstable_getCurrentPriorityLevel,fo=s.unstable_ImmediatePriority,mo=s.unstable_UserBlockingPriority,ss=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,Jl=s.unstable_IdlePriority,Zl=s.log,$l=s.unstable_setDisableYieldValue,Pn=null,ze=null;function An(e){if(typeof Zl=="function"&&$l(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var he=Math.clz32?Math.clz32:tu,Wl=Math.log,Jr=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Jr|0)|0}var ti=256,or=262144,ye=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(p&=E,p!==0?h=ei(p):r||(r=E&~e,r!==0&&(h=ei(r))))):(E=o&~f,E!==0?h=ei(E):p!==0?h=ei(p):r||(r=o&~e,r!==0&&(h=ei(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ii(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,r,o,h,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(r=p&~r;0<r;){var F=31-he(r),Q=1<<F;E[F]=0,R[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&ur(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ur(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function go(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function po(e,n){var r=n&-n;return r=(r&42)!==0?1:cr(r),(r&(e.suspendedLanes|n))!==0?0:r}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:T_(e.type))}function jn(e,n){var r=it.p;try{return it.p=e,n()}finally{it.p=r}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,si="__reactContainer$"+Bn,Zr="__reactEvents$"+Bn,Vh="__reactListeners$"+Bn,iu="__reactHandles$"+Bn,su="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function $r(e){delete e[_e],delete e[Ve],delete e[Zr],delete e[Vh],delete e[iu]}function ai(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[si]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=r_(e);e!==null;){if(r=e[_e])return r;e=r_(e)}return n}e=r,r=e.parentNode}return null}function bn(e){if(e=e[_e]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ri]=!0}var yo=new Set,_o={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(_o[e]=n,e=0;e<n.length;e++)yo.add(n[e])}var vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eo={},To={};function ru(e){return pe.call(To,e)?!0:pe.call(Eo,e)?!1:vo.test(e)?To[e]=!0:(Eo[e]=!0,!1)}function Wr(e,n,r){if(ru(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function mn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ee(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){r=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(p){r=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=rs(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=rs(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function sn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,r,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,p,ke(n)):r!=null?Ao(e,p,ke(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function au(e,n,r,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}r=r!=null?""+ke(r):"",n=n!=null?""+ke(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function Ao(e,n,r){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function as(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+ke(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,r){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ke(r):""}function os(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=ke(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Gt(e)}function rn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||lu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function wo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&bo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&bo(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ls=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return ls.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Ro=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var us=null,hi=null;function dr(e){var n=bn(e);if(n&&(e=n.stateNode)){var r=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&hr(o)}break t;case"textarea":ou(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&as(e,!!r.multiple,n,!1)}}}var ia=!1;function cs(e,n,r){if(ia)return e(n,r);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(us!==null||hi!==null)&&(nc(),us&&(n=us,e=hi,hi=us=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function Hn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Ve]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(Rn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{mr=!1}var fi=null,Co=null,gr=null;function Io(){if(gr)return gr;var e,n=Co,r=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var p=r-e;for(o=1;o<=p&&n[r-o]===h[f-o];o++);return gr=h.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Fn(){return!1}function je(e){function n(r,o,h,f,p){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Fn,this.isPropagationStopped=Fn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Oi),hs=A({},Oi,{view:0,detail:0}),xo=je(hs),fs,sa,mi,ra=A({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(fs=e.screenX-mi.screenX,sa=e.screenY-mi.screenY):sa=fs=0,mi=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),No=je(ra),yr=A({},ra,{dataTransfer:0}),cu=je(yr),hu=A({},hs,{relatedTarget:0}),_r=je(hu),Do=A({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=je(Do),aa=A({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=je(aa),mu=A({},Oi,{data:0}),gi=je(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function ds(){return _u}var en=A({},hs,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=je(en),Eu=A({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=je(Eu),u=A({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),m=je(u),v=A({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(v),U=A({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(U),W=A({},Oi,{newState:0,oldState:0}),St=je(W),fe=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ae,pi=Rn&&(!Bt||ae&&8<ae&&11>=ae),Gn=" ",Kn=!1;function vr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function BT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Kn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Kn?null:e;default:return null}}function qT(e,n){if(la)return e==="compositionend"||!Bt&&vr(e,n)?(e=Io(),gr=Co=fi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var HT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!HT[e.type]:n==="textarea"}function ug(e,n,r,o){us?hi?hi.push(o):hi=[o]:us=o,n=uc(n,"onChange"),0<n.length&&(r=new di("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Oo=null,Mo=null;function FT(e){Gy(e,0)}function Tu(e){var n=dn(e);if(hr(n))return e}function cg(e,n){if(e==="change")return n}var hg=!1;if(Rn){var kh;if(Rn){var Lh="oninput"in document;if(!Lh){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Lh=typeof fg.oninput=="function"}kh=Lh}else kh=!1;hg=kh&&(!document.documentMode||9<document.documentMode)}function dg(){Oo&&(Oo.detachEvent("onpropertychange",mg),Mo=Oo=null)}function mg(e){if(e.propertyName==="value"&&Tu(Mo)){var n=[];ug(n,Mo,e,wn(e)),cs(FT,n)}}function GT(e,n,r){e==="focusin"?(dg(),Oo=n,Mo=r,Oo.attachEvent("onpropertychange",mg)):e==="focusout"&&dg()}function KT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Mo)}function QT(e,n){if(e==="click")return Tu(n)}function YT(e,n){if(e==="input"||e==="change")return Tu(n)}function XT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:XT;function Vo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function gg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pg(e,n){var r=gg(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=gg(r)}}function yg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?yg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function _g(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ci(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var JT=Rn&&"documentMode"in document&&11>=document.documentMode,ua=null,Ph=null,ko=null,zh=!1;function vg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zh||ua==null||ua!==ci(o)||(o=ua,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ko&&Vo(ko,o)||(ko=o,o=uc(Ph,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ua)))}function Er(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ca={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},jh={},Eg={};Rn&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Tr(e){if(jh[e])return jh[e];if(!ca[e])return e;var n=ca[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Eg)return jh[e]=n[r];return e}var Tg=Tr("animationend"),Sg=Tr("animationiteration"),Ag=Tr("animationstart"),ZT=Tr("transitionrun"),$T=Tr("transitionstart"),WT=Tr("transitioncancel"),bg=Tr("transitionend"),wg=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function Qn(e,n){wg.set(e,n),li(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ha=0,qh=0;function Au(){for(var e=ha,n=qh=ha=0;n<e;){var r=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Rg(r,h,f)}}function bu(e,n,r,o){In[ha++]=e,In[ha++]=n,In[ha++]=r,In[ha++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Hh(e,n,r,o){return bu(e,n,r,o),wu(e)}function Sr(e,n){return bu(e,null,null,n),wu(e)}function Rg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function wu(e){if(50<il)throw il=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function t1(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,r,o){return new t1(e,n,r,o)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Vi(e,n){var r=e.alternate;return r===null?(r=pn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Cg(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,r,o,h,f){var p=0;if(o=e,typeof e=="function")Fh(e)&&(p=1);else if(typeof e=="string")p=rS(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=pn(31,r,n,h),e.elementType=C,e.lanes=f,e;case et:return Ar(r.children,h,f,n);case tt:p=8,h|=24;break;case $:return e=pn(12,r,n,h|2),e.elementType=$,e.lanes=f,e;case xt:return e=pn(13,r,n,h),e.elementType=xt,e.lanes=f,e;case Rt:return e=pn(19,r,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rt:p=10;break t;case nt:p=9;break t;case gt:p=11;break t;case I:p=14;break t;case b:p=16,o=null;break t}p=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(p,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ar(e,n,r,o){return e=pn(7,e,o,n),e.lanes=r,e}function Gh(e,n,r){return e=pn(6,e,null,n),e.lanes=r,e}function Ig(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,r){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xg=new WeakMap;function xn(e,n){if(typeof e=="object"&&e!==null){var r=xg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ho(n)},xg.set(e,n),n)}return{value:e,source:n,stack:ho(n)}}var da=[],ma=0,Cu=null,Lo=0,Nn=[],Dn=0,ms=null,yi=1,_i="";function ki(e,n){da[ma++]=Lo,da[ma++]=Cu,Cu=e,Lo=n}function Ng(e,n,r){Nn[Dn++]=yi,Nn[Dn++]=_i,Nn[Dn++]=ms,ms=e;var o=yi;e=_i;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,yi=1<<32-he(n)+h|r<<h|o,_i=f+e}else yi=1<<f|r<<h|o,_i=e}function Qh(e){e.return!==null&&(ki(e,1),Ng(e,1,0))}function Yh(e){for(;e===Cu;)Cu=da[--ma],da[ma]=null,Lo=da[--ma],da[ma]=null;for(;e===ms;)ms=Nn[--Dn],Nn[Dn]=null,_i=Nn[--Dn],Nn[Dn]=null,yi=Nn[--Dn],Nn[Dn]=null}function Dg(e,n){Nn[Dn++]=yi,Nn[Dn++]=_i,Nn[Dn++]=ms,yi=n.id,_i=n.overflow,ms=e}var Be=null,te=null,kt=!1,gs=null,On=!1,Xh=Error(a(519));function ps(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(xn(n,e)),Xh}function Og(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Ve]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<rl.length;r++)It(rl[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),os(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Xy(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||ps(e,!0)}function Mg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ga(e){if(e!==Be)return!1;if(!kt)return Mg(e),kt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||md(e.type,e.memoizedProps)),r=!r),r&&te&&ps(e),Mg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=s_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=s_(e)}else n===27?(n=te,Ns(e.type)?(e=vd,vd=null,te=e):te=n):te=Be?Vn(e.stateNode.nextSibling):null;return!0}function br(){te=Be=null,kt=!1}function Jh(){var e=gs;return e!==null&&(un===null?un=e:un.push.apply(un,e),gs=null),e}function Uo(e){gs===null?gs=[e]:gs.push(e)}var Zh=O(null),wr=null,Li=null;function ys(e,n,r){st(Zh,n._currentValue),n._currentValue=r}function Ui(e){e._currentValue=Zh.current,Y(Zh)}function $h(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Wh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),$h(f.return,r,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),$h(p,r,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function pa(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(cl):e=[cl])}h=h.return}e!==null&&Wh(n,e,r,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Vg(wr,e)}function xu(e,n){return wr===null&&Rr(e),Vg(e,n)}function Vg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return r}var e1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},n1=s.unstable_scheduleCallback,i1=s.unstable_NormalPriority,Te={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new e1,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&n1(i1,function(){e.controller.abort()})}var zo=null,ef=0,ya=0,_a=null;function s1(e,n){if(zo===null){var r=zo=[];ef=0,ya=rd(),_a={status:"pending",value:void 0,then:function(o){r.push(o)}}}return ef++,n.then(kg,kg),n}function kg(){if(--ef===0&&zo!==null){_a!==null&&(_a.status="fulfilled");var e=zo;zo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function r1(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Lg=G.S;G.S=function(e,n){vy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&s1(e,n),Lg!==null&&Lg(e,n)};var Cr=O(null);function nf(){var e=Cr.current;return e!==null?e:Wt.pooledCache}function Nu(e,n){n===null?st(Cr,Cr.current):st(Cr,n.pool)}function Ug(){var e=nf();return e===null?null:{parent:Te._currentValue,pool:e}}var va=Error(a(460)),sf=Error(a(474)),Du=Error(a(542)),Ou={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function zg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(qn,qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Bg(e),e}throw xr=n,va}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(xr=r,va):r}}var xr=null;function jg(){if(xr===null)throw Error(a(459));var e=xr;return xr=null,e}function Bg(e){if(e===va||e===Du)throw Error(a(483))}var Ea=null,jo=0;function Mu(e){var n=jo;return jo+=1,Ea===null&&(Ea=[]),zg(Ea,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qg(e){function n(k,N){if(e){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function r(k,N){if(!e)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=Vi(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,K){return N===null||N.tag!==6?(N=Gh(P,k.mode,K),N.return=k,N):(N=h(N,P),N.return=k,N)}function R(k,N,P,K){var ht=P.type;return ht===et?F(k,N,P.props.children,K,P.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ir(ht)===N.type)?(N=h(N,P.props),Bo(N,P),N.return=k,N):(N=Ru(P.type,P.key,P.props,null,k.mode,K),Bo(N,P),N.return=k,N)}function z(k,N,P,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Kh(P,k.mode,K),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function F(k,N,P,K,ht){return N===null||N.tag!==7?(N=Ar(P,k.mode,K,ht),N.return=k,N):(N=h(N,P),N.return=k,N)}function Q(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Gh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return P=Ru(N.type,N.key,N.props,null,k.mode,P),Bo(P,N),P.return=k,P;case Z:return N=Kh(N,k.mode,P),N.return=k,N;case b:return N=Ir(N),Q(k,N,P)}if(Ce(N)||L(N))return N=Ar(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return Q(k,Mu(N),P);if(N.$$typeof===rt)return Q(k,xu(k,N),P);Vu(k,N)}return null}function j(k,N,P,K){var ht=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,N,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ht?R(k,N,P,K):null;case Z:return P.key===ht?z(k,N,P,K):null;case b:return P=Ir(P),j(k,N,P,K)}if(Ce(P)||L(P))return ht!==null?null:F(k,N,P,K,null);if(typeof P.then=="function")return j(k,N,Mu(P),K);if(P.$$typeof===rt)return j(k,N,xu(k,P),K);Vu(k,P)}return null}function q(k,N,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(N,k,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return k=k.get(K.key===null?P:K.key)||null,R(N,k,K,ht);case Z:return k=k.get(K.key===null?P:K.key)||null,z(N,k,K,ht);case b:return K=Ir(K),q(k,N,P,K,ht)}if(Ce(K)||L(K))return k=k.get(P)||null,F(N,k,K,ht,null);if(typeof K.then=="function")return q(k,N,P,Mu(K),ht);if(K.$$typeof===rt)return q(k,N,P,xu(N,K),ht);Vu(N,K)}return null}function lt(k,N,P,K){for(var ht=null,zt=null,ut=N,wt=N=0,Dt=null;ut!==null&&wt<P.length;wt++){ut.index>wt?(Dt=ut,ut=null):Dt=ut.sibling;var jt=j(k,ut,P[wt],K);if(jt===null){ut===null&&(ut=Dt);break}e&&ut&&jt.alternate===null&&n(k,ut),N=f(jt,N,wt),zt===null?ht=jt:zt.sibling=jt,zt=jt,ut=Dt}if(wt===P.length)return r(k,ut),kt&&ki(k,wt),ht;if(ut===null){for(;wt<P.length;wt++)ut=Q(k,P[wt],K),ut!==null&&(N=f(ut,N,wt),zt===null?ht=ut:zt.sibling=ut,zt=ut);return kt&&ki(k,wt),ht}for(ut=o(ut);wt<P.length;wt++)Dt=q(ut,k,wt,P[wt],K),Dt!==null&&(e&&Dt.alternate!==null&&ut.delete(Dt.key===null?wt:Dt.key),N=f(Dt,N,wt),zt===null?ht=Dt:zt.sibling=Dt,zt=Dt);return e&&ut.forEach(function(ks){return n(k,ks)}),kt&&ki(k,wt),ht}function mt(k,N,P,K){if(P==null)throw Error(a(151));for(var ht=null,zt=null,ut=N,wt=N=0,Dt=null,jt=P.next();ut!==null&&!jt.done;wt++,jt=P.next()){ut.index>wt?(Dt=ut,ut=null):Dt=ut.sibling;var ks=j(k,ut,jt.value,K);if(ks===null){ut===null&&(ut=Dt);break}e&&ut&&ks.alternate===null&&n(k,ut),N=f(ks,N,wt),zt===null?ht=ks:zt.sibling=ks,zt=ks,ut=Dt}if(jt.done)return r(k,ut),kt&&ki(k,wt),ht;if(ut===null){for(;!jt.done;wt++,jt=P.next())jt=Q(k,jt.value,K),jt!==null&&(N=f(jt,N,wt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return kt&&ki(k,wt),ht}for(ut=o(ut);!jt.done;wt++,jt=P.next())jt=q(ut,k,wt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?wt:jt.key),N=f(jt,N,wt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&ut.forEach(function(pS){return n(k,pS)}),kt&&ki(k,wt),ht}function Zt(k,N,P,K){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ht=P.key;N!==null;){if(N.key===ht){if(ht=P.type,ht===et){if(N.tag===7){r(k,N.sibling),K=h(N,P.props.children),K.return=k,k=K;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ir(ht)===N.type){r(k,N.sibling),K=h(N,P.props),Bo(K,P),K.return=k,k=K;break t}r(k,N);break}else n(k,N);N=N.sibling}P.type===et?(K=Ar(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Ru(P.type,P.key,P.props,null,k.mode,K),Bo(K,P),K.return=k,k=K)}return p(k);case Z:t:{for(ht=P.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(k,N.sibling),K=h(N,P.children||[]),K.return=k,k=K;break t}else{r(k,N);break}else n(k,N);N=N.sibling}K=Kh(P,k.mode,K),K.return=k,k=K}return p(k);case b:return P=Ir(P),Zt(k,N,P,K)}if(Ce(P))return lt(k,N,P,K);if(L(P)){if(ht=L(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),mt(k,N,P,K)}if(typeof P.then=="function")return Zt(k,N,Mu(P),K);if(P.$$typeof===rt)return Zt(k,N,xu(k,P),K);Vu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(k,N.sibling),K=h(N,P),K.return=k,k=K):(r(k,N),K=Gh(P,k.mode,K),K.return=k,k=K),p(k)):r(k,N)}return function(k,N,P,K){try{jo=0;var ht=Zt(k,N,P,K);return Ea=null,ht}catch(ut){if(ut===va||ut===Du)throw ut;var zt=pn(29,ut,null,k.mode);return zt.lanes=K,zt.return=k,zt}}}var Nr=qg(!0),Hg=qg(!1),_s=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function vs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Es(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Rg(e,null,r),n}return bu(e,o,n,r),wu(e)}function qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}function of(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var lf=!1;function Ho(){if(lf){var e=_a;if(e!==null)throw e}}function Fo(e,n,r,o){lf=!1;var h=e.updateQueue;_s=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,z=R.next;R.next=null,p===null?f=z:p.next=z,p=R;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;p=0,F=z=R=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Nt&j)===j:(o&j)===j){j!==0&&j===ya&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,mt=E;j=n;var Zt=r;switch(mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){Q=lt.call(Zt,Q,j);break t}Q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,j=typeof lt=="function"?lt.call(Zt,Q,j):lt,j==null)break t;Q=A({},Q,j);break t;case 2:_s=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,R=Q):F=F.next=q,p|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),ws|=p,e.lanes=p,e.memoizedState=Q}}function Fg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Gg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Fg(r[e],n)}var Ta=O(null),ku=O(0);function Kg(e,n){e=Ki,st(ku,e),st(Ta,n),Ki=e|n.baseLanes}function uf(){st(ku,Ki),st(Ta,Ta.current)}function cf(){Ki=ku.current,Y(Ta),Y(ku)}var yn=O(null),Mn=null;function Ts(e){var n=e.alternate;st(de,de.current&1),st(yn,e),Mn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Mn=e)}function hf(e){st(de,de.current),st(yn,e),Mn===null&&(Mn=e)}function Qg(e){e.tag===22?(st(de,de.current),st(yn,e),Mn===null&&(Mn=e)):Ss()}function Ss(){st(de,de.current),st(yn,yn.current)}function _n(e){Y(yn),Mn===e&&(Mn=null),Y(de)}var de=O(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||yd(r)||_d(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Pi=0,At=null,Xt=null,Se=null,Uu=!1,Sa=!1,Dr=!1,Pu=0,Go=0,Aa=null,a1=0;function ue(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!gn(e[r],n[r]))return!1;return!0}function df(e,n,r,o,h,f){return Pi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Np:If,Dr=!1,f=r(o,h),Dr=!1,Sa&&(f=Xg(n,r,o,h)),Yg(e),f}function Yg(e){G.H=Yo;var n=Xt!==null&&Xt.next!==null;if(Pi=0,Se=Xt=At=null,Uu=!1,Go=0,Aa=null,n)throw Error(a(300));e===null||Ae||(e=e.dependencies,e!==null&&Iu(e)&&(Ae=!0))}function Xg(e,n,r,o){At=e;var h=0;do{if(Sa&&(Aa=null),Go=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Dp,f=n(r,o)}while(Sa);return f}function o1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ko(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function mf(){var e=Pu!==0;return Pu=0,e}function gf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function pf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Pi=0,Se=Xt=At=null,Sa=!1,Go=Pu=0,Aa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ko(e){var n=Go;return Go+=1,Aa===null&&(Aa=[]),e=zg(Aa,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Np:If),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ko(e);if(e.$$typeof===rt)return qe(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=zu(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=V;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=me();return _f(n,Xt,e)}function _f(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,R=null,z=n,F=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Nt&Q)===Q:(Pi&Q)===Q){var j=z.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===ya&&(F=!0);else if((Pi&j)===j){z=z.next,j===ya&&(F=!0);continue}else Q={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=Q,p=f):R=R.next=Q,At.lanes|=j,ws|=j;Q=z.action,Dr&&r(f,Q),f=z.hasEagerState?z.eagerState:r(f,Q)}else j={lane:Q,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=j,p=f):R=R.next=j,At.lanes|=Q,ws|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?p=f:R.next=E,!gn(f,e.memoizedState)&&(Ae=!0,F&&(r=_a,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function Jg(e,n,r){var o=At,h=me(),f=kt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!gn((Xt||h).memoizedState,r);if(p&&(h.memoizedState=r,Ae=!0),h=h.queue,Sf(Wg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},$g.bind(null,o,h,r,n),null),Wt===null)throw Error(a(349));f||(Pi&127)!==0||Zg(o,n,r)}return r}function Zg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=zu(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function $g(e,n,r,o){n.value=r,n.getSnapshot=o,tp(n)&&ep(e)}function Wg(e,n,r){return r(function(){tp(n)&&ep(e)})}function tp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!gn(e,r)}catch{return!0}}function ep(e){var n=Sr(e,2);n!==null&&cn(n,e,2)}function Ef(e){var n=nn();if(typeof e=="function"){var r=e;if(e=r(),Dr){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function np(e,n,r,o){return e.baseState=r,_f(e,Xt,typeof o=="function"?o:zi)}function l1(e,n,r,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ip(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ip(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=r(h,o),R=G.S;R!==null&&R(p,E),sp(e,n,E)}catch(z){Tf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=r(h,o),sp(e,n,f)}catch(z){Tf(e,n,z)}}function sp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){rp(e,n,o)},function(o){return Tf(e,n,o)}):rp(e,n,r)}function rp(e,n,r){n.status="fulfilled",n.value=r,ap(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ip(e,r)))}function Tf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ap(n),n=n.next;while(n!==o)}e.action=null}function ap(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function op(e,n){return n}function lp(e,n){if(kt){var r=Wt.formState;if(r!==null){t:{var o=At;if(kt){if(te){e:{for(var h=te,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=Vn(h.nextSibling),o=h.data==="F!";break t}}ps(o)}o=!1}o&&(n=r[0])}}return r=nn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},r.queue=o,r=Cp.bind(null,At,o),o.dispatch=r,o=Ef(!1),f=Cf.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=l1.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function up(e){var n=me();return cp(n,Xt,e)}function cp(e,n,r){if(n=_f(e,n,op)[0],e=Bu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Ko(n)}catch(p){throw p===va?Du:p}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,ba(9,{destroy:void 0},u1.bind(null,h,r),null)),[o,f,e]}function u1(e,n){e.action=n}function hp(e){var n=me(),r=Xt;if(r!==null)return cp(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function ba(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=zu(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function fp(){return me().memoizedState}function qu(e,n,r,o){var h=nn();At.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},r,o===void 0?null:o)}function Hu(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&ff(o,Xt.memoizedState.deps)?h.memoizedState=ba(n,f,r,o):(At.flags|=e,h.memoizedState=ba(1|n,f,r,o))}function dp(e,n){qu(8390656,8,e,n)}function Sf(e,n){Hu(2048,8,e,n)}function c1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=zu(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function mp(e){var n=me().memoizedState;return c1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gp(e,n){return Hu(4,2,e,n)}function pp(e,n){return Hu(4,4,e,n)}function yp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function _p(e,n,r){r=r!=null?r.concat([e]):null,Hu(4,4,yp.bind(null,n,e),r)}function Af(){}function vp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ep(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),Dr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function bf(e,n,r){return r===void 0||(Pi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Ty(),At.lanes|=e,ws|=e,r)}function Tp(e,n,r,o){return gn(r,n)?r:Ta.current!==null?(e=bf(e,r,o),gn(e,n)||(Ae=!0),e):(Pi&42)===0||(Pi&1073741824)!==0&&(Nt&261930)===0?(Ae=!0,e.memoizedState=r):(e=Ty(),At.lanes|=e,ws|=e,n)}function Sp(e,n,r,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Cf(e,!1,n,r);try{var R=h(),z=G.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=r1(R,o);Qo(e,n,F,Tn(e))}else Qo(e,n,o,Tn(e))}catch(Q){Qo(e,n,{then:function(){},status:"rejected",reason:Q},Tn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function h1(){}function wf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Ap(e).queue;Sp(e,h,n,ft,r===null?h1:function(){return bp(e),r(o)})}function Ap(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ft},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function bp(e){var n=Ap(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},Tn())}function Rf(){return qe(cl)}function wp(){return me().memoizedState}function Rp(){return me().memoizedState}function f1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Tn();e=vs(r);var o=Es(n,e,r);o!==null&&(cn(o,n,r),qo(o,n,r)),n={cache:tf()},e.payload=n;return}n=n.return}}function d1(e,n,r){var o=Tn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Ip(n,r):(r=Hh(e,n,r,o),r!==null&&(cn(r,e,o),xp(r,n,o)))}function Cp(e,n,r){var o=Tn();Qo(e,n,r,o)}function Qo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Ip(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,r);if(h.hasEagerState=!0,h.eagerState=E,gn(E,p))return bu(e,n,h,0),Wt===null&&Au(),!1}catch{}if(r=Hh(e,n,h,o),r!==null)return cn(r,e,o),xp(r,n,o),!0}return!1}function Cf(e,n,r,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=Hh(e,r,o,2),n!==null&&cn(n,e,2)}function Fu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Ip(e,n){Sa=Uu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function xp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,go(e,r)}}var Yo={readContext:qe,use:ju,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Yo.useEffectEvent=ue;var Np={readContext:qe,use:ju,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:dp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,qu(4194308,4,yp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var r=nn();n=n===void 0?null:n;var o=e();if(Dr){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=nn();if(r!==void 0){var h=r(n);if(Dr){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=d1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,r=Cp.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Af,useDeferredValue:function(e,n){var r=nn();return bf(r,e,n)},useTransition:function(){var e=Ef(!1);return e=Sp.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=nn();if(kt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Wt===null)throw Error(a(349));(Nt&127)!==0||Zg(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,dp(Wg.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},$g.bind(null,o,f,r,n),null),r},useId:function(){var e=nn(),n=Wt.identifierPrefix;if(kt){var r=_i,o=yi;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=a1++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:lp,useActionState:lp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Cf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return nn().memoizedState=f1.bind(null,At)},useEffectEvent:function(e){var n=nn(),r={impl:e};return n.memoizedState=r,function(){if((qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},If={readContext:qe,use:ju,useCallback:vp,useContext:qe,useEffect:Sf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:Bu,useRef:fp,useState:function(){return Bu(zi)},useDebugValue:Af,useDeferredValue:function(e,n){var r=me();return Tp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=Bu(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Jg,useId:wp,useHostTransitionStatus:Rf,useFormState:up,useActionState:up,useOptimistic:function(e,n){var r=me();return np(r,Xt,e,n)},useMemoCache:yf,useCacheRefresh:Rp};If.useEffectEvent=mp;var Dp={readContext:qe,use:ju,useCallback:vp,useContext:qe,useEffect:Sf,useImperativeHandle:_p,useInsertionEffect:gp,useLayoutEffect:pp,useMemo:Ep,useReducer:vf,useRef:fp,useState:function(){return vf(zi)},useDebugValue:Af,useDeferredValue:function(e,n){var r=me();return Xt===null?bf(r,e,n):Tp(r,Xt.memoizedState,e,n)},useTransition:function(){var e=vf(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Ko(e),n]},useSyncExternalStore:Jg,useId:wp,useHostTransitionStatus:Rf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var r=me();return Xt!==null?np(r,Xt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Rp};Dp.useEffectEvent=mp;function xf(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:A({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=vs(o);h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(cn(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=Tn(),h=vs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Es(e,h,o),n!==null&&(cn(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Tn(),o=vs(r);o.tag=2,n!=null&&(o.callback=n),n=Es(e,o,r),n!==null&&(cn(n,e,r),qo(n,e,r))}};function Op(e,n,r,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Vo(r,o)||!Vo(h,f):!0}function Mp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Or(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=A({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function Vp(e){Su(e)}function kp(e){console.error(e)}function Lp(e){Su(e)}function Gu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Up(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,r){return r=vs(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(e,n)},r}function Pp(e){return e=vs(e),e.tag=3,e}function zp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Up(n,r,o)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Up(n,r,o),typeof h!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function m1(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&pa(n,r,h,!0),r=yn.current,r!==null){switch(r.tag){case 31:case 13:return Mn===null?ic():r.alternate===null&&ce===0&&(ce=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return r.flags|=65536,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),nd(e,o,h)),!1}throw Error(a(435,r.tag))}return nd(e,o,h),ic(),!1}if(kt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),Uo(xn(e,r)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Uo(xn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=xn(o,r),h=Df(e.stateNode,o,h),of(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:o});if(f=xn(f,r),nl===null?nl=[f]:nl.push(f),ce!==4&&(ce=2),n===null)return!0;o=xn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Df(r.stateNode,o,e),of(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Rs===null||!Rs.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Pp(h),zp(h,e,r,o),of(r,h),!1}r=r.return}while(r!==null);return!1}var Of=Error(a(461)),Ae=!1;function He(e,n,r,o){n.child=e===null?Hg(n,null,r,o):Nr(n,e.child,r,o)}function jp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Rr(n),o=df(e,n,r,p,f,h),E=mf(),e!==null&&!Ae?(gf(e,n,h),ji(e,n,h)):(kt&&E&&Qh(n),n.flags|=1,He(e,n,o,h),n.child)}function Bp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,qp(e,n,f,o,h)):(e=Ru(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:Vo,r(p,o)&&e.ref===n.ref)return ji(e,n,h)}return n.flags|=1,e=Vi(f,o),e.ref=n.ref,e.return=n,n.child=e}function qp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Vo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,ji(e,n,h)}return Mf(e,n,r,o,h)}function Hp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Kg(n,f):uf(),Qg(n);else return o=n.lanes=536870912,Fp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Nu(n,f.cachePool),Kg(n,f),Ss(),n.memoizedState=null):(e!==null&&Nu(n,null),uf(),Ss());return He(e,n,h,r),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fp(e,n,r,o,h){var f=nf();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Nu(n,null),uf(),Qg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Gp(e,n,r){return Nr(n,e.child,null,r),e=Ku(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function g1(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Xo(null,e);if(hf(n),(e=te)?(e=i_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Ig(e),r.return=n,n.child=r,Be=n,te=null)):e=null,e===null)throw ps(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Gp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ae||pa(e,n,r,!1),h=(r&e.childLanes)!==0,Ae||h){if(o=Wt,o!==null&&(p=po(o,r),p!==0&&p!==f.retryLane))throw f.retryLane=p,Sr(e,p),cn(o,e,p),Of;ic(),n=Gp(e,n,r)}else e=f.treeContext,te=Vn(p.nextSibling),Be=n,kt=!0,gs=null,On=!1,e!==null&&Dg(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Vi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Mf(e,n,r,o,h){return Rr(n),r=df(e,n,r,o,void 0,h),o=mf(),e!==null&&!Ae?(gf(e,n,h),ji(e,n,h)):(kt&&o&&Qh(n),n.flags|=1,He(e,n,r,h),n.child)}function Kp(e,n,r,o,h,f){return Rr(n),n.updateQueue=null,r=Xg(n,o,r,h),Yg(e),o=mf(),e!==null&&!Ae?(gf(e,n,f),ji(e,n,f)):(kt&&o&&Qh(n),n.flags|=1,He(e,n,r,f),n.child)}function Qp(e,n,r,o,h){if(Rr(n),n.stateNode===null){var f=fa,p=r.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?qe(p):fa,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(xf(n,r,p,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Fo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Or(r,E);f.props=R;var z=f.context,F=r.contextType;p=fa,typeof F=="object"&&F!==null&&(p=qe(F));var Q=r.getDerivedStateFromProps;F=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Mp(n,f,o,p),_s=!1;var j=n.memoizedState;f.state=j,Fo(n,o,f,h),Ho(),z=n.memoizedState,E||j!==z||_s?(typeof Q=="function"&&(xf(n,r,Q,o),z=n.memoizedState),(R=_s||Op(n,r,R,o,j,z,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),p=n.memoizedProps,F=Or(r,p),f.props=F,Q=n.pendingProps,j=f.context,z=r.contextType,R=fa,typeof z=="object"&&z!==null&&(R=qe(z)),E=r.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Q||j!==R)&&Mp(n,f,o,R),_s=!1,j=n.memoizedState,f.state=j,Fo(n,o,f,h),Ho();var q=n.memoizedState;p!==Q||j!==q||_s||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(xf(n,r,E,o),q=n.memoizedState),(F=_s||Op(n,r,F,o,j,q,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Nr(n,e.child,null,h),n.child=Nr(n,null,r,h)):He(e,n,r,h),n.memoizedState=f.state,e=n.child):e=ji(e,n,h),e}function Yp(e,n,r,o){return br(),n.flags|=256,He(e,n,r,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:Ug()}}function Lf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=En),e}function Xp(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ts(n):Ss(),(e=te)?(e=i_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ms!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},r=Ig(e),r.return=n,n.child=r,Be=n,te=null)):e=null,e===null)throw ps(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=Ar(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(r),o.childLanes=Lf(e,p,r),n.memoizedState=Vf,Xo(null,o)):(Ts(n),Uf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Ts(n),n.flags&=-257,n=Pf(e,n,r)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=Ar(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Nr(n,e.child,null,r),o=n.child,o.memoizedState=kf(r),o.childLanes=Lf(e,p,r),n.memoizedState=Vf,n=Xo(null,o));else if(Ts(n),_d(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Uo({value:o,source:null,stack:null}),n=Pf(e,n,r)}else if(Ae||pa(e,n,r,!1),p=(r&e.childLanes)!==0,Ae||p){if(p=Wt,p!==null&&(o=po(p,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,Sr(e,o),cn(p,e,o),Of;yd(E)||ic(),n=Pf(e,n,r)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,te=Vn(E.nextSibling),Be=n,kt=!0,gs=null,On=!1,e!==null&&Dg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,R=e.child,z=R.sibling,o=Vi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,z!==null?E=Vi(z,E):(E=Ar(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Xo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=kf(r):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Ug(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,p,r),n.memoizedState=Vf,Xo(e.child,o)):(Ts(n),r=e.child,e=r.sibling,r=Vi(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Uf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Pf(e,n,r){return Nr(n,e.child,null,r),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jp(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$h(e.return,n,r)}function zf(e,n,r,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=r,p.tailMode=h,p.treeForkCount=f)}function Zp(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=de.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,st(de,p),He(e,n,o,r),o=kt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,r,n);else if(e.tag===19)Jp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),zf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}zf(n,!0,r,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function ji(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ws|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(pa(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Vi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Vi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function p1(e,n,r){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),ys(n,Te,e.memoizedState.cache),br();break;case 27:case 5:sr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:ys(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ts(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Xp(e,n,r):(Ts(n),e=ji(e,n,r),e!==null?e.sibling:null);Ts(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(pa(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return Zp(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(de,de.current),o)break;return null;case 22:return n.lanes=0,Hp(e,n,r,n.pendingProps);case 24:ys(n,Te,e.memoizedState.cache)}return ji(e,n,r)}function $p(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!jf(e,r)&&(n.flags&128)===0)return Ae=!1,p1(e,n,r);Ae=(e.flags&131072)!==0}else Ae=!1,kt&&(n.flags&1048576)!==0&&Ng(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")Fh(e)?(o=Or(e,o),n.tag=1,n=Qp(null,n,e,o,r)):(n.tag=0,n=Mf(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===gt){n.tag=11,n=jp(null,n,e,o,r);break t}else if(h===I){n.tag=14,n=Bp(null,n,e,o,r);break t}}throw n=se(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Or(o,n.pendingProps),Qp(e,n,o,h,r);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Fo(n,o,null,r);var p=n.memoizedState;if(o=p.cache,ys(n,Te,o),o!==f.cache&&Wh(n,[Te],r,!0),Ho(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Yp(e,n,o,r);break t}else if(o!==h){h=xn(Error(a(424)),n),Uo(h),n=Yp(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=Vn(e.firstChild),Be=n,kt=!0,gs=null,On=!0,r=Hg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(br(),o===h){n=ji(e,n,r);break t}He(e,n,o,r)}n=n.child}return n;case 26:return Qu(e,n),e===null?(r=u_(n.type,null,n.pendingProps,null))?n.memoizedState=r:kt||(r=n.type,e=n.pendingProps,o=cc(bt.current).createElement(r),o[_e]=n,o[Ve]=e,Fe(o,r,e),ve(o),n.stateNode=o):n.memoizedState=u_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&kt&&(o=n.stateNode=a_(n.type,n.pendingProps,bt.current),Be=n,On=!0,h=te,Ns(n.type)?(vd=h,te=Vn(o.firstChild)):te=h),He(e,n,n.pendingProps.children,r),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=te)&&(o=K1(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,te=Vn(o.firstChild),On=!1,h=!0):h=!1),h||ps(n)),sr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:p!==null&&md(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,o1,null,null,r),cl._currentValue=h),Qu(e,n),He(e,n,o,r),n.child;case 6:return e===null&&kt&&((e=r=te)&&(r=Q1(r,n.pendingProps,On),r!==null?(n.stateNode=r,Be=n,te=null,e=!0):e=!1),e||ps(n)),null;case 13:return Xp(e,n,r);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Nr(n,null,o,r):He(e,n,o,r),n.child;case 11:return jp(e,n,n.type,n.pendingProps,r);case 7:return He(e,n,n.pendingProps,r),n.child;case 8:return He(e,n,n.pendingProps.children,r),n.child;case 12:return He(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ys(n,n.type,o.value),He(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,r),n.child;case 14:return Bp(e,n,n.type,n.pendingProps,r);case 15:return qp(e,n,n.type,n.pendingProps,r);case 19:return Zp(e,n,r);case 31:return g1(e,n,r);case 22:return Hp(e,n,r,n.pendingProps);case 24:return Rr(n),o=qe(Te),e===null?(h=nf(),h===null&&(h=Wt,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},rf(n),ys(n,Te,h)):((e.lanes&r)!==0&&(af(e,n),Fo(n,null,null,r),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ys(n,Te,o)):(o=f.cache,ys(n,Te,o),o!==h.cache&&Wh(n,[Te],r,!0))),He(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Bi(e){e.flags|=4}function Bf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(wy())e.flags|=8192;else throw xr=Ou,sf}else e.flags&=-16777217}function Wp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!m_(n))if(wy())e.flags|=8192;else throw xr=Ou,sf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Ia|=n)}function Jo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function y1(e,n,r){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Te),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ga(n)?Bi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Bi(n),f!==null?(ee(n),Wp(n,f)):(ee(n),Bf(n,h,null,o,r))):f?f!==e.memoizedState?(Bi(n),ee(n),Wp(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Bi(n),ee(n),Bf(n,h,e,o,r)),null;case 27:if(Qr(n),r=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=ot.current,ga(n)?Og(n):(e=a_(h,o,r),n.stateNode=e,Bi(n))}return ee(n),null;case 5:if(Qr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=ot.current,ga(n))Og(n);else{var p=cc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[_e]=n,f[Ve]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Bi(n)}}return ee(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Bi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ga(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Xy(e.nodeValue,r)),e||ps(n,!0)}else e=cc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ee(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else r=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),ee(n),null);case 4:return re(),e===null&&ud(n.stateNode.containerInfo),ee(n),null;case 10:return Ui(n.type),ee(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ee(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Jo(o,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Jo(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Cg(r,e),r=r.sibling;return st(de,de.current&1|2),kt&&ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>tc&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),Jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*tn()-o.renderingStartTime>tc&&r!==536870912&&(n.flags|=128,h=!0,Jo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,r=de.current,st(de,h?r&1|2:r&1),kt&&ki(n,o.treeForkCount),e):(ee(n),null);case 22:case 23:return _n(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Cr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ui(Te),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function _1(e,n){switch(Yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Te),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return Ui(n.type),null;case 22:case 23:return _n(n),cf(),e!==null&&Y(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Te),null;case 25:return null;default:return null}}function ty(e,n){switch(Yh(n),n.tag){case 3:Ui(Te),re();break;case 26:case 27:case 5:Qr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Y(de);break;case 10:Ui(n.type);break;case 22:case 23:_n(n),cf(),e!==null&&Y(Cr);break;case 24:Ui(Te)}}function Zo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,p=r.inst;o=f(),p.destroy=o}r=r.next}while(r!==h)}}catch(E){Qt(n,n.return,E)}}function As(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var R=r,z=E;try{z()}catch(F){Qt(h,R,F)}}}o=o.next}while(o!==f)}}catch(F){Qt(n,n.return,F)}}function ey(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Gg(n,r)}catch(o){Qt(e,e.return,o)}}}function ny(e,n,r){r.props=Or(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Qt(e,n,o)}}function $o(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Qt(e,n,h)}}function vi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Qt(e,n,h)}else r.current=null}function iy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Qt(e,e.return,h)}}function qf(e,n,r){try{var o=e.stateNode;j1(o,e.type,r,n),o[Ve]=n}catch(h){Qt(e,e.return,h)}}function sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function Hf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Ns(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,r),e=e.sibling;e!==null;)Ff(e,n,r),e=e.sibling}function Ju(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Ns(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Ju(e,n,r),e=e.sibling;e!==null;)Ju(e,n,r),e=e.sibling}function ry(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,r),n[_e]=e,n[Ve]=r}catch(f){Qt(e,e.return,f)}}var qi=!1,be=!1,Gf=!1,ay=typeof WeakSet=="function"?WeakSet:Set,Le=null;function v1(e,n){if(e=e.containerInfo,fd=yc,e=_g(e),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,z=0,F=0,Q=e,j=null;e:for(;;){for(var q;Q!==r||h!==0&&Q.nodeType!==3||(E=p+h),Q!==f||o!==0&&Q.nodeType!==3||(R=p+o),Q.nodeType===3&&(p+=Q.nodeValue.length),(q=Q.firstChild)!==null;)j=Q,Q=q;for(;;){if(Q===e)break e;if(j===r&&++z===h&&(E=p),j===f&&++F===o&&(R=p),(q=Q.nextSibling)!==null)break;Q=j,j=Q.parentNode}Q=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(dd={focusedElem:e,selectionRange:r},yc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var lt=Or(r.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(r,r.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)pd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":pd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function oy(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(e,r),o&4&&Zo(5,r);break;case 1:if(Fi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Qt(r,r.return,p)}else{var h=Or(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Qt(r,r.return,p)}}o&64&&ey(r),o&512&&$o(r,r.return);break;case 3:if(Fi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Gg(e,n)}catch(p){Qt(r,r.return,p)}}break;case 27:n===null&&o&4&&ry(r);case 26:case 5:Fi(e,r),n===null&&o&4&&iy(r),o&512&&$o(r,r.return);break;case 12:Fi(e,r);break;case 31:Fi(e,r),o&4&&cy(e,r);break;case 13:Fi(e,r),o&4&&hy(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=I1.bind(null,r),Y1(e,r))));break;case 22:if(o=r.memoizedState!==null||qi,!o){n=n!==null&&n.memoizedState!==null||be,h=qi;var f=be;qi=o,(be=n)&&!f?Gi(e,r,(r.subtreeFlags&8772)!==0):Fi(e,r),qi=h,be=f}break;case 30:break;default:Fi(e,r)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,an=!1;function Hi(e,n,r){for(r=r.child;r!==null;)uy(e,n,r),r=r.sibling}function uy(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:be||vi(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||vi(r,n);var o=oe,h=an;Ns(r.type)&&(oe=r.stateNode,an=!1),Hi(e,n,r),ol(r.stateNode),oe=o,an=h;break;case 5:be||vi(r,n);case 6:if(o=oe,h=an,oe=null,Hi(e,n,r),oe=o,an=h,oe!==null)if(an)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(r.stateNode)}catch(f){Qt(r,n,f)}else try{oe.removeChild(r.stateNode)}catch(f){Qt(r,n,f)}break;case 18:oe!==null&&(an?(e=oe,e_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),La(e)):e_(oe,r.stateNode));break;case 4:o=oe,h=an,oe=r.stateNode.containerInfo,an=!0,Hi(e,n,r),oe=o,an=h;break;case 0:case 11:case 14:case 15:As(2,r,n),be||As(4,r,n),Hi(e,n,r);break;case 1:be||(vi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&ny(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,Hi(e,n,r),be=o;break;default:Hi(e,n,r)}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{La(e)}catch(r){Qt(n,n.return,r)}}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{La(e)}catch(r){Qt(n,n.return,r)}}function E1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ay),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var r=E1(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=x1.bind(null,e,o);o.then(h,h)}})}function on(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ns(E.type)){oe=E.stateNode,an=!1;break t}break;case 5:oe=E.stateNode,an=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(oe===null)throw Error(a(160));uy(f,p,h),oe=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fy(n,e),n=n.sibling}var Yn=null;function fy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),ln(e),o&4&&(As(3,e,e.return),Zo(3,e),As(5,e,e.return));break;case 1:on(n,e),ln(e),o&512&&(be||r===null||vi(r,r.return)),o&64&&qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Yn;if(on(n,e),ln(e),o&512&&(be||r===null||vi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var p=f_("link","href",h).get(o+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;case"meta":if(p=f_("meta","content",h).get(o+(r.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else d_(h,e.type,e.stateNode);else e.stateNode=h_(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?d_(h,e.type,e.stateNode):h_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,r.memoizedProps)}break;case 27:on(n,e),ln(e),o&512&&(be||r===null||vi(r,r.return)),r!==null&&o&4&&qf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(on(n,e),ln(e),o&512&&(be||r===null||vi(r,r.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(lt){Qt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Gf=!0);break;case 6:if(on(n,e),ln(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(lt){Qt(e,e.return,lt)}}break;case 3:if(dc=null,h=Yn,Yn=hc(n.containerInfo),on(n,e),Yn=h,ln(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{La(n.containerInfo)}catch(lt){Qt(e,e.return,lt)}Gf&&(Gf=!1,dy(e));break;case 4:o=Yn,Yn=hc(e.stateNode.containerInfo),on(n,e),ln(e),Yn=o;break;case 12:on(n,e),ln(e);break;case 31:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:on(n,e),ln(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Wu=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,z=qi,F=be;if(qi=z||h,be=F||R,on(n,e),be=F,qi=z,ln(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||qi||be||Mr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,j=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(lt){Qt(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Qt(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?n_(q,!0):n_(R.stateNode,!1)}catch(lt){Qt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Zu(e,r))));break;case 19:on(n,e),ln(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:on(n,e),ln(e)}}function ln(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(sy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Hf(e);Ju(e,f,h);break;case 5:var p=r.stateNode;r.flags&32&&(rn(p,""),r.flags&=-33);var E=Hf(e);Ju(e,E,p);break;case 3:case 4:var R=r.stateNode.containerInfo,z=Hf(e);Ff(e,z,R);break;default:throw Error(a(161))}}catch(F){Qt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)oy(e,n.alternate,n),n=n.sibling}function Mr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:As(4,n,n.return),Mr(n);break;case 1:vi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ny(n,n.return,r),Mr(n);break;case 27:ol(n.stateNode);case 26:case 5:vi(n,n.return),Mr(n);break;case 22:n.memoizedState===null&&Mr(n);break;case 30:Mr(n);break;default:Mr(n)}e=e.sibling}}function Gi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Gi(h,f,r),Zo(4,f);break;case 1:if(Gi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Fg(R[h],E)}catch(z){Qt(o,o.return,z)}}r&&p&64&&ey(f),$o(f,f.return);break;case 27:ry(f);case 26:case 5:Gi(h,f,r),r&&o===null&&p&4&&iy(f),$o(f,f.return);break;case 12:Gi(h,f,r);break;case 31:Gi(h,f,r),r&&p&4&&cy(h,f);break;case 13:Gi(h,f,r),r&&p&4&&hy(h,f);break;case 22:f.memoizedState===null&&Gi(h,f,r),$o(f,f.return);break;case 30:break;default:Gi(h,f,r)}n=n.sibling}}function Kf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Po(r))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Xn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)my(e,n,r,o),n=n.sibling}function my(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,r,o),h&2048&&Zo(9,n);break;case 1:Xn(e,n,r,o);break;case 3:Xn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Xn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else Xn(e,n,r,o);break;case 31:Xn(e,n,r,o);break;case 13:Xn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,r,o):Wo(e,n):f._visibility&2?Xn(e,n,r,o):(f._visibility|=2,wa(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:Xn(e,n,r,o),h&2048&&Qf(n.alternate,n);break;default:Xn(e,n,r,o)}}function wa(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=r,R=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:wa(f,p,E,R,h),Zo(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?wa(f,p,E,R,h):Wo(f,p):(F._visibility|=2,wa(f,p,E,R,h)),h&&z&2048&&Kf(p.alternate,p);break;case 24:wa(f,p,E,R,h),h&&z&2048&&Qf(p.alternate,p);break;default:wa(f,p,E,R,h)}n=n.sibling}}function Wo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:Wo(r,o),h&2048&&Kf(o.alternate,o);break;case 24:Wo(r,o),h&2048&&Qf(o.alternate,o);break;default:Wo(r,o)}n=n.sibling}}var tl=8192;function Ra(e,n,r){if(e.subtreeFlags&tl)for(e=e.child;e!==null;)gy(e,n,r),e=e.sibling}function gy(e,n,r){switch(e.tag){case 26:Ra(e,n,r),e.flags&tl&&e.memoizedState!==null&&aS(r,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,r);break;case 3:case 4:var o=Yn;Yn=hc(e.stateNode.containerInfo),Ra(e,n,r),Yn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=tl,tl=16777216,Ra(e,n,r),tl=o):Ra(e,n,r));break;default:Ra(e,n,r)}}function py(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function el(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,_y(o,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yy(e),e=e.sibling}function yy(e){switch(e.tag){case 0:case 11:case 15:el(e),e.flags&2048&&As(9,e,e.return);break;case 3:el(e);break;case 12:el(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):el(e);break;default:el(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,_y(o,e)}py(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:As(8,n,n.return),$u(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function _y(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:As(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(ly(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var T1={getCacheForType:function(e){var n=qe(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return qe(Te).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Ct=null,Nt=0,Kt=0,vn=null,bs=!1,Ca=!1,Yf=!1,Ki=0,ce=0,ws=0,Vr=0,Xf=0,En=0,Ia=0,nl=null,un=null,Jf=!1,Wu=0,vy=0,tc=1/0,ec=null,Rs=null,Ne=0,Cs=null,xa=null,Qi=0,Zf=0,$f=null,Ey=null,il=0,Wf=null;function Tn(){return(qt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?rd():nu()}function Ty(){if(En===0)if((Nt&536870912)===0||kt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,r){(e===Wt&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Na(e,0),Is(e,Nt,En,!1)),lr(e,r),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Vr|=r),ce===4&&Is(e,Nt,En,!1)),Ei(e))}function Sy(e,n,r){if((qt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?w1(e,n):ed(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Is(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!A1(r)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=nl;var R=E.current.memoizedState.isDehydrated;if(R&&(Na(E,p).flags|=256),p=ed(E,p,!1),p!==2){if(Yf&&!R){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Na(e,0),Is(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Is(o,n,En,!bs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-tn(),10<h)){if(Is(o,n,En,!bs),ni(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Wy(Ay.bind(null,o,r,un,ec,Jf,n,En,Vr,Ia,bs,f,"Throttled",-0,0),h);break t}Ay(o,r,un,ec,Jf,n,En,Vr,Ia,bs,f,null,-0,0)}}break}while(!0);Ei(e)}function Ay(e,n,r,o,h,f,p,E,R,z,F,Q,j,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},gy(n,f,Q);var lt=(f&62914560)===f?Wu-tn():(f&4194048)===f?vy-tn():0;if(lt=oS(Q,lt),lt!==null){Qi=f,e.cancelPendingCommit=lt(Dy.bind(null,e,n,f,r,o,h,p,E,R,F,Q,null,j,q)),Is(e,f,p,!z);return}}Dy(e,n,f,r,o,h,p,E,R)}function A1(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Is(e,n,r,o){n&=~Xf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),p=1<<f;o[f]=-1,h&=~p}r!==0&&ur(e,r,n)}function nc(){return(qt&6)===0?(sl(0),!1):!0}function td(){if(Ct!==null){if(Kt===0)var e=Ct.return;else e=Ct,Li=wr=null,pf(e),Ea=null,jo=0,e=Ct;for(;e!==null;)ty(e.alternate,e),e=e.return;Ct=null}}function Na(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,H1(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qi=0,td(),Wt=e,Ct=r=Vi(e.current,null),Nt=n,Kt=0,vn=null,bs=!1,Ca=zn(e,n),Yf=!1,Ia=En=Xf=Vr=ws=ce=0,un=nl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,Au(),r}function by(e,n){At=null,G.H=Yo,n===va||n===Du?(n=jg(),Kt=3):n===sf?(n=jg(),Kt=4):Kt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Ct===null&&(ce=1,Gu(e,xn(n,e.current)))}function wy(){var e=yn.current;return e===null?!0:(Nt&4194048)===Nt?Mn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Mn:!1}function Ry(){var e=G.H;return G.H=Yo,e===null?Yo:e}function Cy(){var e=G.A;return G.A=T1,e}function ic(){ce=4,bs||(Nt&4194048)!==Nt&&yn.current!==null||(Ca=!0),(ws&134217727)===0&&(Vr&134217727)===0||Wt===null||Is(Wt,Nt,En,!1)}function ed(e,n,r){var o=qt;qt|=2;var h=Ry(),f=Cy();(Wt!==e||Nt!==n)&&(ec=null,Na(e,n)),n=!1;var p=ce;t:do try{if(Kt!==0&&Ct!==null){var E=Ct,R=vn;switch(Kt){case 8:td(),p=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Kt;if(Kt=0,vn=null,Da(e,E,R,z),r&&Ca){p=0;break t}break;default:z=Kt,Kt=0,vn=null,Da(e,E,R,z)}}b1(),p=ce;break}catch(F){by(e,F)}while(!0);return n&&e.shellSuspendCounter++,Li=wr=null,qt=o,G.H=h,G.A=f,Ct===null&&(Wt=null,Nt=0,Au()),p}function b1(){for(;Ct!==null;)Iy(Ct)}function w1(e,n){var r=qt;qt|=2;var o=Ry(),h=Cy();Wt!==e||Nt!==n?(ec=null,tc=tn()+500,Na(e,n)):Ca=zn(e,n);t:do try{if(Kt!==0&&Ct!==null){n=Ct;var f=vn;e:switch(Kt){case 1:Kt=0,vn=null,Da(e,n,f,1);break;case 2:case 9:if(Pg(f)){Kt=0,vn=null,xy(n);break}n=function(){Kt!==2&&Kt!==9||Wt!==e||(Kt=7),Ei(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Pg(f)?(Kt=0,vn=null,xy(n)):(Kt=0,vn=null,Da(e,n,f,7));break;case 5:var p=null;switch(Ct.tag){case 26:p=Ct.memoizedState;case 5:case 27:var E=Ct;if(p?m_(p):E.stateNode.complete){Kt=0,vn=null;var R=E.sibling;if(R!==null)Ct=R;else{var z=E.return;z!==null?(Ct=z,sc(z)):Ct=null}break e}}Kt=0,vn=null,Da(e,n,f,5);break;case 6:Kt=0,vn=null,Da(e,n,f,6);break;case 8:td(),ce=6;break t;default:throw Error(a(462))}}R1();break}catch(F){by(e,F)}while(!0);return Li=wr=null,G.H=o,G.A=h,qt=r,Ct!==null?0:(Wt=null,Nt=0,Au(),ce)}function R1(){for(;Ct!==null&&!Nh();)Iy(Ct)}function Iy(e){var n=$p(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?sc(e):Ct=n}function xy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Kp(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Kp(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:pf(n);default:ty(r,n),n=Ct=Cg(n,Ki),n=$p(r,n,Ki)}e.memoizedProps=e.pendingProps,n===null?sc(e):Ct=n}function Da(e,n,r,o){Li=wr=null,pf(n),Ea=null,jo=0;var h=n.return;try{if(m1(e,h,n,r,Nt)){ce=1,Gu(e,xn(r,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,Gu(e,xn(r,e.current)),Ct=null;return}n.flags&32768?(kt||o===1?e=!0:Ca||(Nt&536870912)!==0?e=!1:(bs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ny(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Ny(n,bs);return}e=n.return;var r=y1(n.alternate,n,Ki);if(r!==null){Ct=r;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ce===0&&(ce=5)}function Ny(e,n){do{var r=_1(e.alternate,e);if(r!==null){r.flags&=32767,Ct=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=r}while(e!==null);ce=6,Ct=null}function Dy(e,n,r,o,h,f,p,E,R){e.cancelPendingCommit=null;do rc();while(Ne!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Mh(e,r,f,p,E,R),e===Wt&&(Ct=Wt=null,Nt=0),xa=n,Cs=e,Qi=r,Zf=f,$f=h,Ey=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,N1(ss,function(){return Ly(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,p=qt,qt|=4;try{v1(e,n,r)}finally{qt=p,it.p=h,G.T=o}}Ne=1,Oy(),My(),Vy()}}function Oy(){if(Ne===1){Ne=0;var e=Cs,n=xa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var o=it.p;it.p=2;var h=qt;qt|=4;try{fy(n,e);var f=dd,p=_g(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&yg(E.ownerDocument.documentElement,E)){if(R!==null&&Uh(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Q=E.ownerDocument||document,j=Q&&Q.defaultView||window;if(j.getSelection){var q=j.getSelection(),lt=E.textContent.length,mt=Math.min(R.start,lt),Zt=R.end===void 0?mt:Math.min(R.end,lt);!q.extend&&mt>Zt&&(p=Zt,Zt=mt,mt=p);var k=pg(E,mt),N=pg(E,Zt);if(k&&N&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Q.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),mt>Zt?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var K=Q[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}yc=!!fd,dd=fd=null}finally{qt=h,it.p=o,G.T=r}}e.current=n,Ne=2}}function My(){if(Ne===2){Ne=0;var e=Cs,n=xa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var o=it.p;it.p=2;var h=qt;qt|=4;try{oy(e,n.alternate,n)}finally{qt=h,it.p=o,G.T=r}}Ne=3}}function Vy(){if(Ne===4||Ne===3){Ne=0,Xl();var e=Cs,n=xa,r=Qi,o=Ey;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,xa=Cs=null,ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Rs=null),Ni(r),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Qi&3)!==0&&rc(),Ei(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Wf?il++:(il=0,Wf=e):il=0,sl(0)}}function ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function rc(){return Oy(),My(),Vy(),Ly()}function Ly(){if(Ne!==5)return!1;var e=Cs,n=Zf;Zf=0;var r=Ni(Qi),o=G.T,h=it.p;try{it.p=32>r?32:r,G.T=null,r=$f,$f=null;var f=Cs,p=Qi;if(Ne=0,xa=Cs=null,Qi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,yy(f.current),my(f,f.current,p,r),qt=E,sl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{it.p=h,G.T=o,ky(e,n)}}function Uy(e,n,r){n=xn(r,n),n=Df(e.stateNode,n,2),e=Es(e,n,2),e!==null&&(lr(e,2),Ei(e))}function Qt(e,n,r){if(e.tag===3)Uy(e,e,r);else for(;n!==null;){if(n.tag===3){Uy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rs===null||!Rs.has(o))){e=xn(r,e),r=Pp(2),o=Es(n,r,2),o!==null&&(zp(r,o,n,e),lr(o,2),Ei(o));break}}n=n.return}}function nd(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new S1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Yf=!0,h.add(r),e=C1.bind(null,e,n,r),n.then(e,e))}function C1(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Wt===e&&(Nt&r)===r&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>tn()-Wu?(qt&2)===0&&Na(e,0):Xf|=r,Ia===Nt&&(Ia=0)),Ei(e)}function Py(e,n){n===0&&(n=eu()),e=Sr(e,n),e!==null&&(lr(e,n),Ei(e))}function I1(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Py(e,r)}function x1(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Py(e,r)}function N1(e,n){return xe(e,n)}var ac=null,Oa=null,id=!1,oc=!1,sd=!1,xs=0;function Ei(e){e!==Oa&&e.next===null&&(Oa===null?ac=Oa=e:Oa=Oa.next=e),oc=!0,id||(id=!0,O1())}function sl(e,n){if(!sd&&oc){sd=!0;do for(var r=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,qy(o,f))}else f=Nt,f=ni(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(r=!0,qy(o,f));o=o.next}while(r);sd=!1}}function D1(){zy()}function zy(){oc=id=!1;var e=0;xs!==0&&q1()&&(e=xs);for(var n=tn(),r=null,o=ac;o!==null;){var h=o.next,f=jy(o,n);f===0?(o.next=null,r===null?ac=h:r.next=h,h===null&&(Oa=r)):(r=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Ne!==0&&Ne!==5||sl(e),xs!==0&&(xs=0)}function jy(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-he(f),E=1<<p,R=h[p];R===-1?((E&r)===0||(E&o)!==0)&&(h[p]=Oh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,r=Nt,r=ni(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&is(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||zn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&is(o),Ni(r)){case 2:case 8:r=mo;break;case 32:r=ss;break;case 268435456:r=Jl;break;default:r=ss}return o=By.bind(null,e),r=xe(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&is(o),e.callbackPriority=2,e.callbackNode=null,2}function By(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(rc()&&e.callbackNode!==r)return null;var o=Nt;return o=ni(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Sy(e,o,n),jy(e,tn()),e.callbackNode!=null&&e.callbackNode===r?By.bind(null,e):null)}function qy(e,n){if(rc())return null;Sy(e,n,!0)}function O1(){F1(function(){(qt&6)!==0?xe(fo,D1):zy()})}function rd(){if(xs===0){var e=ya;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),xs=e}return xs}function Hy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function Fy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function M1(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Hy((h[Ve]||null).action),p=o.submitter;p&&(n=(n=p[Ve]||null)?Hy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(xs!==0){var R=p?Fy(h,p):new FormData(h);wf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=p?Fy(h,p):new FormData(h),wf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],V1=od.toLowerCase(),k1=od[0].toUpperCase()+od.slice(1);Qn(V1,"on"+k1)}Qn(Tg,"onAnimationEnd"),Qn(Sg,"onAnimationIteration"),Qn(Ag,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(ZT,"onTransitionRun"),Qn($T,"onTransitionStart"),Qn(WT,"onTransitionCancel"),Qn(bg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Gy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=R}else for(p=0;p<o.length;p++){if(E=o[p],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){Su(F)}h.currentTarget=null,f=R}}}}function It(e,n){var r=n[Zr];r===void 0&&(r=n[Zr]=new Set);var o=e+"__bubble";r.has(o)||(Ky(n,e,2,!1),r.add(o))}function ld(e,n,r){var o=0;n&&(o|=4),Ky(r,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[lc]){e[lc]=!0,yo.forEach(function(r){r!=="selectionchange"&&(L1.has(r)||ld(r,!1,e),ld(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,ld("selectionchange",!1,n))}}function Ky(e,n,r,o){switch(T_(n)){case 2:var h=cS;break;case 8:h=hS;break;default:h=bd}r=h.bind(null,n,r,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function cd(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ai(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){o=f=p;continue t}E=E.parentNode}}o=o.return}cs(function(){var z=f,F=wn(r),Q=[];t:{var j=wg.get(e);if(j!==void 0){var q=di,lt=e;switch(e){case"keypress":if(pr(r)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":lt="focus",q=_r;break;case"focusout":lt="blur",q=_r;break;case"beforeblur":case"afterblur":q=_r;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=No;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Tg:case Sg:case Ag:q=fu;break;case bg:q=T;break;case"scroll":case"scrollend":q=xo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=St}var mt=(n&4)!==0,Zt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var N=z,P;N!==null;){var K=N;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Hn(N,k),K!=null&&mt.push(al(N,K,P))),Zt)break;N=N.return}0<mt.length&&(j=new q(j,lt,null,r,F),Q.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&r!==Ro&&(lt=r.relatedTarget||r.fromElement)&&(ai(lt)||lt[si]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=z,lt=lt?ai(lt):null,lt!==null&&(Zt=c(lt),mt=lt.tag,lt!==Zt||mt!==5&&mt!==27&&mt!==6)&&(lt=null)):(q=null,lt=z),q!==lt)){if(mt=No,K="onMouseLeave",k="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Mi,K="onPointerLeave",k="onPointerEnter",N="pointer"),Zt=q==null?j:dn(q),P=lt==null?j:dn(lt),j=new mt(K,N+"leave",q,r,F),j.target=Zt,j.relatedTarget=P,K=null,ai(F)===z&&(mt=new mt(k,N+"enter",lt,r,F),mt.target=P,mt.relatedTarget=Zt,K=mt),Zt=K,q&&lt)e:{for(mt=U1,k=q,N=lt,P=0,K=k;K;K=mt(K))P++;K=0;for(var ht=N;ht;ht=mt(ht))K++;for(;0<P-K;)k=mt(k),P--;for(;0<K-P;)N=mt(N),K--;for(;P--;){if(k===N||N!==null&&k===N.alternate){mt=k;break e}k=mt(k),N=mt(N)}mt=null}else mt=null;q!==null&&Qy(Q,j,q,mt,!1),lt!==null&&Zt!==null&&Qy(Q,Zt,lt,mt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=cg;else if(lg(j))if(hg)zt=YT;else{zt=KT;var ut=GT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ea(z.elementType)&&(zt=cg):zt=QT;if(zt&&(zt=zt(e,z))){ug(Q,zt,r,F);break t}ut&&ut(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Ao(j,"number",j.value)}switch(ut=z?dn(z):window,e){case"focusin":(lg(ut)||ut.contentEditable==="true")&&(ua=ut,Ph=z,ko=null);break;case"focusout":ko=Ph=ua=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,vg(Q,r,F);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":vg(Q,r,F)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else la?vr(e,r)&&(Dt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Dt="onCompositionStart");Dt&&(pi&&r.locale!=="ko"&&(la||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&la&&(wt=Io()):(fi=F,Co="value"in fi?fi.value:fi.textContent,la=!0)),ut=uc(z,Dt),0<ut.length&&(Dt=new gi(Dt,e,null,r,F),Q.push({event:Dt,listeners:ut}),wt?Dt.data=wt:(wt=oa(r),wt!==null&&(Dt.data=wt)))),(wt=Cn?BT(e,r):qT(e,r))&&(Dt=uc(z,"onBeforeInput"),0<Dt.length&&(ut=new gi("onBeforeInput","beforeinput",null,r,F),Q.push({event:ut,listeners:Dt}),ut.data=wt)),M1(Q,e,z,r,F)}Gy(Q,n)})}function al(e,n,r){return{instance:e,listener:n,currentTarget:r}}function uc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,r),h!=null&&o.unshift(al(e,h,f)),h=Hn(e,n),h!=null&&o.push(al(e,h,f))),e.tag===3)return o;e=e.return}return[]}function U1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,n,r,o,h){for(var f=n._reactName,p=[];r!==null&&r!==o;){var E=r,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||z===null||(R=z,h?(z=Hn(r,f),z!=null&&p.unshift(al(r,z,R))):h||(z=Hn(r,f),z!=null&&p.push(al(r,z,R)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var P1=/\r\n?/g,z1=/\u0000|\uFFFD/g;function Yy(e){return(typeof e=="string"?e:""+e).replace(P1,`
`).replace(z1,"")}function Xy(e,n){return n=Yy(n),Yy(e)===n}function Jt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||rn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&rn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,r,o);break;case"style":wo(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=na(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uu.get(r)||r,Wr(e,r,o))}}function hd(e,n,r,o,h,f){switch(r){case"style":wo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?rn(e,o):(typeof o=="number"||typeof o=="bigint")&&rn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_o.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Ve]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):Wr(e,r,o)}}}function Fe(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,p,r,null)}}h&&Jt(e,n,"srcSet",r.srcSet,r,null),o&&Jt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var E=f=p=h=null,R=null,z=null;for(o in r)if(r.hasOwnProperty(o)){var F=r[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Jt(e,n,o,F,r,null)}}au(e,f,E,R,z,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Jt(e,n,h,E,r,null)}n=f,r=p,e.multiple=!!o,n!=null?as(e,!!o,n,!1):r!=null&&as(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,p,E,r,null)}os(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Jt(e,n,R,o,r,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)It(rl[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(o=r[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,z,o,r,null)}return;default:if(ea(n)){for(F in r)r.hasOwnProperty(F)&&(o=r[F],o!==void 0&&hd(e,n,F,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Jt(e,n,E,o,r,null))}function j1(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,R=null,z=null,F=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||Jt(e,n,q,null,o,Q)}}for(var j in o){var q=o[j];if(Q=r[j],o.hasOwnProperty(j)&&(q!=null||Q!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&Jt(e,n,j,q,o,Q)}}ta(e,p,E,R,z,F,f,h);return;case"select":q=p=E=j=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Jt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==R&&Jt(e,n,h,f,o,R)}n=E,r=p,o=q,j!=null?as(e,!!r,j,!1):!!o!=!!r&&(n!=null?as(e,!!r,n,!0):as(e,!!r,r?[]:"",!1));return;case"textarea":q=j=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=r[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,p,h,o,f)}ou(e,j,q);return;case"option":for(var lt in r)j=r[lt],r.hasOwnProperty(lt)&&j!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,n,lt,null,o,j));for(R in o)j=o[R],q=r[R],o.hasOwnProperty(R)&&j!==q&&(j!=null||q!=null)&&(R==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Jt(e,n,R,j,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)j=r[mt],r.hasOwnProperty(mt)&&j!=null&&!o.hasOwnProperty(mt)&&Jt(e,n,mt,null,o,j);for(z in o)if(j=o[z],q=r[z],o.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Jt(e,n,z,j,o,q)}return;default:if(ea(n)){for(var Zt in r)j=r[Zt],r.hasOwnProperty(Zt)&&j!==void 0&&!o.hasOwnProperty(Zt)&&hd(e,n,Zt,void 0,o,j);for(F in o)j=o[F],q=r[F],!o.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||hd(e,n,F,j,o,q);return}}for(var k in r)j=r[k],r.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Jt(e,n,k,null,o,j);for(Q in o)j=o[Q],q=r[Q],!o.hasOwnProperty(Q)||j===q||j==null&&q==null||Jt(e,n,Q,j,o,q)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Jy(p)){for(p=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],z=R.startTime;if(z>E)break;var F=R.transferSize,Q=R.initiatorType;F&&Jy(Q)&&(R=R.responseEnd,p+=F*(R<E?1:(E-z)/(R-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function q1(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var Wy=typeof setTimeout=="function"?setTimeout:void 0,H1=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,F1=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(e){return t_.resolve(null).then(e).catch(G1)}:Wy;function G1(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function e_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),La(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")ol(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ol(r);for(var f=r.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=p}}else r==="body"&&ol(e.ownerDocument.body);r=h}while(r);La(n)}function n_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function pd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":pd(r),$r(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function K1(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function Q1(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Vn(e.nextSibling),e===null))return null;return e}function i_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Y1(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function s_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Vn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function r_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function a_(e,n,r){switch(n=cc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$r(e)}var kn=new Map,o_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=it.d;it.d={f:X1,r:J1,D:Z1,C:$1,L:W1,m:tS,X:nS,S:eS,M:iS};function X1(){var e=Yi.f(),n=nc();return e||n}function J1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?bp(n):Yi.r(e)}var Ma=typeof document>"u"?null:document;function l_(e,n,r){var o=Ma;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),o_.has(h)||(o_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),ve(n),o.head.appendChild(n)))}}function Z1(e){Yi.D(e),l_("dns-prefetch",e,null)}function $1(e,n){Yi.C(e,n),l_("preconnect",e,n)}function W1(e,n,r){Yi.L(e,n,r);var o=Ma;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+sn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+sn(r.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ll(f))||n==="script"&&o.querySelector(ul(f))||(n=o.createElement("link"),Fe(n,"link",e),ve(n),o.head.appendChild(n)))}}function tS(e,n){Yi.m(e,n);var r=Ma;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ul(f)))return}o=r.createElement("link"),Fe(o,"link",e),ve(o),r.head.appendChild(o)}}}function eS(e,n,r){Yi.S(e,n,r);var o=Ma;if(o&&e){var h=oi(o).hoistableStyles,f=Va(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(ll(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},r),(r=kn.get(f))&&Ed(e,r);var R=p=o.createElement("link");ve(R),Fe(R,"link",e),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function nS(e,n){Yi.X(e,n);var r=Ma;if(r&&e){var o=oi(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&Td(e,n),f=r.createElement("script"),ve(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function iS(e,n){Yi.M(e,n);var r=Ma;if(r&&e){var o=oi(r).hoistableScripts,h=ka(e),f=o.get(h);f||(f=r.querySelector(ul(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Td(e,n),f=r.createElement("script"),ve(f),Fe(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function u_(e,n,r,o){var h=(h=bt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Va(r.href),r=oi(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Va(r.href);var f=oi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(ll(e)))&&!f._p&&(p.instance=f,p.state.loading=5),kn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},kn.set(e,r),f||sS(h,e,r,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(r),r=oi(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Va(e){return'href="'+sn(e)+'"'}function ll(e){return'link[rel="stylesheet"]['+e+"]"}function c_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function sS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",r),ve(n),e.head.appendChild(n))}function ka(e){return'[src="'+sn(e)+'"]'}function ul(e){return"script[async]"+e}function h_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),Fe(o,"style",h),fc(o,r.precedence,e),n.instance=o;case"stylesheet":h=Va(r.href);var f=e.querySelector(ll(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=c_(r),(h=kn.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Fe(f,"link",o),n.state.loading|=4,fc(f,r.precedence,e),n.instance=f;case"script":return f=ka(r.src),(h=e.querySelector(ul(f)))?(n.instance=h,ve(h),h):(o=r,(h=kn.get(f))&&(o=A({},r),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,r.precedence,e));return n.instance}function fc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function f_(e,n,r){if(dc===null){var o=new Map,h=dc=new Map;h.set(r,o)}else h=dc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function d_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function rS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function m_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function aS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Va(o.href),f=n.querySelector(ll(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=c_(o),(h=kn.get(h))&&Ed(o,h),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),Fe(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=mc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Sd=0;function oS(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Sd===0&&(Sd=62500*B1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Sd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(lS,e),gc=null,mc.call(e))}function lS(e,n){if(!(n.state.loading&4)){var r=gc.get(e);if(r)var o=r.get(null);else{r=new Map,gc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),o=p)}o&&r.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=r.get(p)||o,f===o&&r.set(null,h),r.set(p,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var cl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function uS(e,n,r,o,h,f,p,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function g_(e,n,r,o,h,f,p,E,R,z,F,Q){return e=new uS(e,n,r,p,R,z,F,Q,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},rf(f),e}function p_(e){return e?(e=fa,e):fa}function y_(e,n,r,o,h,f){h=p_(h),o.context===null?o.context=h:o.pendingContext=h,o=vs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Es(e,o,n),r!==null&&(cn(r,e,n),qo(r,e,n))}function __(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ad(e,n){__(e,n),(e=e.alternate)&&__(e,n)}function v_(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&cn(n,e,67108864),Ad(e,67108864)}}function E_(e){if(e.tag===13||e.tag===31){var n=Tn();n=cr(n);var r=Sr(e,n);r!==null&&cn(r,e,n),Ad(e,n)}}var yc=!0;function cS(e,n,r,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,bd(e,n,r,o)}finally{it.p=f,G.T=h}}function hS(e,n,r,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,bd(e,n,r,o)}finally{it.p=f,G.T=h}}function bd(e,n,r,o){if(yc){var h=wd(o);if(h===null)cd(e,n,o,_c,r),S_(e,o);else if(dS(h,e,n,r,o))o.stopPropagation();else if(S_(e,o),n&4&&-1<fS.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-he(p);E.entanglements[1]|=R,p&=~R}Ei(f),(qt&6)===0&&(tc=tn()+500,sl(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&cn(E,f,2),nc(),Ad(f,2)}if(f=wd(o),f===null&&cd(e,n,o,_c,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,r)}}function wd(e){return e=wn(e),Rd(e)}var _c=null;function Rd(e){if(_c=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function T_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case fo:return 2;case mo:return 8;case ss:case Dh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Cd=!1,Ds=null,Os=null,Ms=null,hl=new Map,fl=new Map,Vs=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(n.pointerId)}}function dl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&v_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function dS(e,n,r,o,h){switch(n){case"focusin":return Ds=dl(Ds,e,n,r,o,h),!0;case"dragenter":return Os=dl(Os,e,n,r,o,h),!0;case"mouseover":return Ms=dl(Ms,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return hl.set(f,dl(hl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,fl.set(f,dl(fl.get(f)||null,e,n,r,o,h)),!0}return!1}function A_(e){var n=ai(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,jn(e.priority,function(){E_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,jn(e.priority,function(){E_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=wd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);Ro=o,r.target.dispatchEvent(o),Ro=null}else return n=bn(r),n!==null&&v_(n),e.blockedOn=r,!1;n.shift()}return!0}function b_(e,n,r){vc(e)&&r.delete(n)}function mS(){Cd=!1,Ds!==null&&vc(Ds)&&(Ds=null),Os!==null&&vc(Os)&&(Os=null),Ms!==null&&vc(Ms)&&(Ms=null),hl.forEach(b_),fl.forEach(b_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,mS)))}var Tc=null;function w_(e){Tc!==e&&(Tc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||r)===null)continue;break}var f=bn(r);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function La(e){function n(R){return Ec(R,e)}Ds!==null&&Ec(Ds,e),Os!==null&&Ec(Os,e),Ms!==null&&Ec(Ms,e),hl.forEach(n),fl.forEach(n);for(var r=0;r<Vs.length;r++){var o=Vs[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Vs.length&&(r=Vs[0],r.blockedOn===null);)A_(r),r.blockedOn===null&&Vs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],p=h[Ve]||null;if(typeof f=="function")p||w_(r);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ve]||null)E=p.formAction;else if(Rd(h)!==null)continue}else E=p.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),w_(r)}}}function R_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Sc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Tn();y_(r,o,e,n,null,null)},Sc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;y_(e.current,2,null,e,null,null),nc(),n[si]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Vs.length&&n!==0&&n<Vs[r].priority;r++);Vs.splice(r,0,e),r===0&&A_(e)}};var C_=t.version;if(C_!=="19.2.3")throw Error(a(527,C_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var gS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Pn=Ac.inject(gS),ze=Ac}catch{}}return gl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=Vp,f=kp,p=Lp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,r,o,null,h,f,p,R_),e[si]=n.current,ud(e),new Id(n)},gl.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=Vp,p=kp,E=Lp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=g_(e,1,!0,n,r??null,o,h,R,f,p,E,R_),n.context=p_(null),r=n.current,o=Tn(),o=cr(o),h=vs(o),h.callback=null,Es(r,h,o),r=o,n.current.lanes=r,lr(n,r),Ei(n),e[si]=n.current,ud(e),new Sc(n)},gl.version="19.2.3",gl}var U_;function wS(){if(U_)return Dd.exports;U_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=bS(),Dd.exports}var RS=wS();const CS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),P_=s=>{const t=IS(s);return t.charAt(0).toUpperCase()+t.slice(1)},d0=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),xS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var NS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const DS=$t.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>$t.createElement("svg",{ref:_,...NS,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:d0("lucide",l),...!c&&!xS(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,S])=>$t.createElement(y,S)),...Array.isArray(c)?c:[c]]));const Pe=(s,t)=>{const i=$t.forwardRef(({className:a,...l},c)=>$t.createElement(DS,{ref:c,iconNode:t,className:d0(`lucide-${CS(P_(s))}`,`lucide-${s}`,a),...l}));return i.displayName=P_(s),i};const OS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],m0=Pe("arrow-right",OS);const MS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],g0=Pe("award",MS);const VS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yd=Pe("book-open",VS);const kS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Bc=Pe("calculator",kS);const LS=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],US=Pe("chart-no-axes-column",LS);const PS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zS=Pe("chevron-left",PS);const jS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Xd=Pe("circle-check-big",jS);const BS=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qS=Pe("circle-play",BS);const HS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FS=Pe("circle-x",HS);const GS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],KS=Pe("lock",GS);const QS=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],YS=Pe("log-in",QS);const XS=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JS=Pe("log-out",XS);const ZS=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$S=Pe("menu",ZS);const WS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tA=Pe("save",WS);const eA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],nA=Pe("square-pen",eA);const iA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sA=Pe("user-plus",iA);const rA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],z_=Pe("users",rA);const aA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oA=Pe("x",aA),lA=()=>{};var j_={};const p0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},uA=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],g=s[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,g=d?s[l+1]:0,_=l+2<s.length,y=_?s[l+2]:0,S=c>>2,A=(c&3)<<4|g>>4;let x=(g&15)<<2|y>>6,H=y&63;_||(H=64,d||(x=64)),a.push(i[S],i[A],i[x],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(p0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):uA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],g=l<s.length?i[s.charAt(l)]:0;++l;const y=l<s.length?i[s.charAt(l)]:64;++l;const A=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||g==null||y==null||A==null)throw new cA;const x=c<<2|g>>4;if(a.push(x),y!==64){const H=g<<4&240|y>>2;if(a.push(H),A!==64){const Z=y<<6&192|A;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class cA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(s){const t=p0(s);return y0.encodeByteArray(t,!0)},qc=function(s){return hA(s).replace(/\./g,"")},_0=function(s){try{return y0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dA=()=>fA().__FIREBASE_DEFAULTS__,mA=()=>{if(typeof process>"u"||typeof j_>"u")return;const s=j_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},gA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&_0(s[1]);return t&&JSON.parse(t)},uh=()=>{try{return lA()||dA()||mA()||gA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},v0=s=>uh()?.emulatorHosts?.[s],pA=s=>{const t=v0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},E0=()=>uh()?.config,T0=s=>uh()?.[`_${s}`];class yA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function no(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S0(s){return(await fetch(s,{credentials:"include"})).ok}function _A(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[qc(JSON.stringify(i)),qc(JSON.stringify(d)),""].join(".")}const Sl={};function vA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?s.emulator.push(t):s.prod.push(t);return s}function EA(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let B_=!1;function A0(s,t){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Sl[s]===t||Sl[s]||B_)return;Sl[s]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=vA().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function g(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{B_=!0,d()},x}function S(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function A(){const x=EA(a),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),$=i("preprendIcon"),nt=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const rt=x.element;g(rt),S(tt,et);const gt=y();_(nt,$),rt.append(nt,Z,tt,gt),document.body.appendChild(rt)}c?(Z.innerText="Preview backend disconnected.",nt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(nt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function SA(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function wA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RA(){const s=We();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function CA(){return!SA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const NA="FirebaseError";class ns extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=NA,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pl.prototype.create)}}class Pl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?DA(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ns(l,g,a)}}function DA(s,t){return s.replace(OA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const OA=/\{\$([^}]+)}/g;function MA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Ur(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(q_(c)&&q_(d)){if(!Ur(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function q_(s){return s!==null&&typeof s=="object"}function zl(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function yl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function _l(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function VA(s,t){const i=new kA(s,t);return i.subscribe.bind(i)}class kA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");LA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function kd(){}function Qe(s){return s&&s._delegate?s._delegate:s}class Pr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const kr="[DEFAULT]";class UA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new yA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(zA(t))try{this.getOrInitializeService({instanceIdentifier:kr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=kr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kr){return this.instances.has(t)}getOptions(t=kr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:PA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=kr){return this.component?this.component.multipleInstances?t:kr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PA(s){return s===kr?void 0:s}function zA(s){return s.instantiationMode==="EAGER"}class jA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new UA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ot||(Ot={}));const BA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},qA=Ot.INFO,HA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},FA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=HA[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sm{constructor(t){this.name=t,this._logLevel=qA,this._logHandler=FA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?BA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const GA=(s,t)=>t.some(i=>s instanceof i);let H_,F_;function KA(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QA(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b0=new WeakMap,Jd=new WeakMap,w0=new WeakMap,Ld=new WeakMap,Am=new WeakMap;function YA(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(qs(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&b0.set(i,s)}).catch(()=>{}),Am.set(t,s),t}function XA(s){if(Jd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Jd.set(s,t)}let Zd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Jd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||w0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return qs(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function JA(s){Zd=s(Zd)}function ZA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ud(this),t,...i);return w0.set(a,t.sort?t.sort():[t]),qs(a)}:QA().includes(s)?function(...t){return s.apply(Ud(this),t),qs(b0.get(this))}:function(...t){return qs(s.apply(Ud(this),t))}}function $A(s){return typeof s=="function"?ZA(s):(s instanceof IDBTransaction&&XA(s),GA(s,KA())?new Proxy(s,Zd):s)}function qs(s){if(s instanceof IDBRequest)return YA(s);if(Ld.has(s))return Ld.get(s);const t=$A(s);return t!==s&&(Ld.set(s,t),Am.set(t,s)),t}const Ud=s=>Am.get(s);function WA(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),g=qs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(qs(d.result),_.oldVersion,_.newVersion,qs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const tb=["get","getKey","getAll","getAllKeys","count"],eb=["put","add","delete","clear"],Pd=new Map;function G_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=eb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||tb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Pd.set(t,c),c}JA(s=>({...s,get:(t,i,a)=>G_(t,i)||s.get(t,i,a),has:(t,i)=>!!G_(t,i)||s.has(t,i)}));class nb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ib(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ib(s){return s.getComponent()?.type==="VERSION"}const $d="@firebase/app",K_="0.14.7";const $i=new Sm("@firebase/app"),sb="@firebase/app-compat",rb="@firebase/analytics-compat",ab="@firebase/analytics",ob="@firebase/app-check-compat",lb="@firebase/app-check",ub="@firebase/auth",cb="@firebase/auth-compat",hb="@firebase/database",fb="@firebase/data-connect",db="@firebase/database-compat",mb="@firebase/functions",gb="@firebase/functions-compat",pb="@firebase/installations",yb="@firebase/installations-compat",_b="@firebase/messaging",vb="@firebase/messaging-compat",Eb="@firebase/performance",Tb="@firebase/performance-compat",Sb="@firebase/remote-config",Ab="@firebase/remote-config-compat",bb="@firebase/storage",wb="@firebase/storage-compat",Rb="@firebase/firestore",Cb="@firebase/ai",Ib="@firebase/firestore-compat",xb="firebase",Nb="12.8.0";const Wd="[DEFAULT]",Db={[$d]:"fire-core",[sb]:"fire-core-compat",[ab]:"fire-analytics",[rb]:"fire-analytics-compat",[lb]:"fire-app-check",[ob]:"fire-app-check-compat",[ub]:"fire-auth",[cb]:"fire-auth-compat",[hb]:"fire-rtdb",[fb]:"fire-data-connect",[db]:"fire-rtdb-compat",[mb]:"fire-fn",[gb]:"fire-fn-compat",[pb]:"fire-iid",[yb]:"fire-iid-compat",[_b]:"fire-fcm",[vb]:"fire-fcm-compat",[Eb]:"fire-perf",[Tb]:"fire-perf-compat",[Sb]:"fire-rc",[Ab]:"fire-rc-compat",[bb]:"fire-gcs",[wb]:"fire-gcs-compat",[Rb]:"fire-fst",[Ib]:"fire-fst-compat",[Cb]:"fire-vertex","fire-js":"fire-js",[xb]:"fire-js-all"};const Hc=new Map,Ob=new Map,tm=new Map;function Q_(s,t){try{s.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Xa(s){const t=s.name;if(tm.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,s);for(const i of Hc.values())Q_(i,s);for(const i of Ob.values())Q_(i,s);return!0}function bm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Ln(s){return s==null?!1:s.settings!==void 0}const Mb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hs=new Pl("app","Firebase",Mb);class Vb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hs.create("app-deleted",{appName:this._name})}}const io=Nb;function R0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Wd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Hs.create("bad-app-name",{appName:String(l)});if(i||(i=E0()),!i)throw Hs.create("no-options");const c=Hc.get(l);if(c){if(Ur(i,c.options)&&Ur(a,c.config))return c;throw Hs.create("duplicate-app",{appName:l})}const d=new jA(l);for(const _ of tm.values())d.addComponent(_);const g=new Vb(i,a,d);return Hc.set(l,g),g}function C0(s=Wd){const t=Hc.get(s);if(!t&&s===Wd&&E0())return R0();if(!t)throw Hs.create("no-app",{appName:s});return t}function Fs(s,t,i){let a=Db[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Xa(new Pr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const kb="firebase-heartbeat-database",Lb=1,Il="firebase-heartbeat-store";let zd=null;function I0(){return zd||(zd=WA(kb,Lb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Il)}catch(i){console.warn(i)}}}}).catch(s=>{throw Hs.create("idb-open",{originalErrorMessage:s.message})})),zd}async function Ub(s){try{const i=(await I0()).transaction(Il),a=await i.objectStore(Il).get(x0(s));return await i.done,a}catch(t){if(t instanceof ns)$i.warn(t.message);else{const i=Hs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function Y_(s,t){try{const a=(await I0()).transaction(Il,"readwrite");await a.objectStore(Il).put(t,x0(s)),await a.done}catch(i){if(i instanceof ns)$i.warn(i.message);else{const a=Hs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function x0(s){return`${s.name}!${s.options.appId}`}const Pb=1024,zb=30;class jb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new qb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>zb){const l=Hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=Bb(this._heartbeatsCache.heartbeats),l=qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function Bb(s,t=Pb){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),J_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class qb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ub(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function J_(s){return qc(JSON.stringify({version:2,heartbeats:s})).length}function Hb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function Fb(s){Xa(new Pr("platform-logger",t=>new nb(t),"PRIVATE")),Xa(new Pr("heartbeat",t=>new jb(t),"PRIVATE")),Fs($d,K_,s),Fs($d,K_,"esm2020"),Fs("fire-js","")}Fb("");var Gb="firebase",Kb="12.8.0";Fs(Gb,Kb,"app");function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qb=N0,D0=new Pl("auth","Firebase",N0());const Fc=new Sm("@firebase/auth");function Yb(s,...t){Fc.logLevel<=Ot.WARN&&Fc.warn(`Auth (${io}): ${s}`,...t)}function Dc(s,...t){Fc.logLevel<=Ot.ERROR&&Fc.error(`Auth (${io}): ${s}`,...t)}function $n(s,...t){throw wm(s,...t)}function Si(s,...t){return wm(s,...t)}function O0(s,t,i){const a={...Qb(),[t]:i};return new Pl("auth","Firebase",a).create(t,{appName:s.name})}function Zi(s){return O0(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return D0.create(s,...t)}function pt(s,t,...i){if(!s)throw wm(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Dc(t),new Error(t)}function Wi(s,t){s||Xi(t)}function em(){return typeof self<"u"&&self.location?.href||""}function Xb(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function Jb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Xb()||bA()||"connection"in navigator)?navigator.onLine:!0}function Zb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Wi(i>t,"Short delay should be less than long delay!"),this.isMobile=TA()||wA()}get(){return Jb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(s,t){Wi(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class M0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $b={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Wb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],tw=new jl(3e4,6e4);function tr(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function er(s,t,i,a,l={}){return V0(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=zl({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return AA()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&no(s.emulatorConfig.host)&&(y.credentials="include"),M0.fetch()(await k0(s,s.config.apiHost,i,g),y)})}async function V0(s,t,i){s._canInitEmulator=!1;const a={...$b,...t};try{const l=new nw(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw bc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw bc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw bc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw bc(s,"user-disabled",d);const S=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw O0(s,S,y);$n(s,S)}}catch(l){if(l instanceof ns)throw l;$n(s,"network-request-failed",{message:String(l)})}}async function Bl(s,t,i,a,l={}){const c=await er(s,t,i,a,l);return"mfaPendingCredential"in c&&$n(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function k0(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Rm(s.config,l):`${s.config.apiScheme}://${l}`;return Wb.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function ew(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Si(this.auth,"network-request-failed")),tw.get())})}}function bc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Si(s,t,a);return l.customData._tokenResponse=i,l}function $_(s){return s!==void 0&&s.enterprise!==void 0}class iw{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return ew(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function sw(s,t){return er(s,"GET","/v2/recaptchaConfig",tr(s,t))}async function rw(s,t){return er(s,"POST","/v1/accounts:delete",t)}async function Gc(s,t){return er(s,"POST","/v1/accounts:lookup",t)}function Al(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aw(s,t=!1){const i=Qe(s),a=await i.getIdToken(t),l=Cm(a);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Al(jd(l.auth_time)),issuedAtTime:Al(jd(l.iat)),expirationTime:Al(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(s){return Number(s)*1e3}function Cm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=_0(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function W_(s){const t=Cm(s);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function xl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ns&&ow(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function ow({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class lw{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Kc(s){const t=s.auth,i=await s.getIdToken(),a=await xl(s,Gc(t,{idToken:i}));pt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?L0(l.providerUserInfo):[],d=cw(s.providerData,c),g=s.isAnonymous,_=!(s.email&&l.passwordHash)&&!d?.length,y=g?_:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,S)}async function uw(s){const t=Qe(s);await Kc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cw(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function L0(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hw(s,t){const i=await V0(s,{},async()=>{const a=zl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await k0(s,l,"/v1/token",`key=${c}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return s.emulatorConfig&&no(s.emulatorConfig.host)&&(_.credentials="include"),M0.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fw(s,t){return er(s,"POST","/v2/accounts:revokeToken",tr(s,t))}class qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):W_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=W_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await hw(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new qa;return a&&(pt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new qa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function Ls(s,t){pt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new lw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return aw(this,t)}reload(){return uw(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Kc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Zi(this.auth));const t=await this.getIdToken();return await xl(this,rw(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:A,emailVerified:x,isAnonymous:H,providerData:Z,stsTokenManager:et}=i;pt(A&&et,t,"internal-error");const tt=qa.fromJSON(this.name,et);pt(typeof A=="string",t,"internal-error"),Ls(a,t.name),Ls(l,t.name),pt(typeof x=="boolean",t,"internal-error"),pt(typeof H=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(g,t.name),Ls(_,t.name),Ls(y,t.name),Ls(S,t.name);const $=new Jn({uid:A,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:tt,createdAt:y,lastLoginAt:S});return Z&&Array.isArray(Z)&&($.providerData=Z.map(nt=>({...nt}))),_&&($._redirectEventId=_),$}static async _fromIdTokenResponse(t,i,a=!1){const l=new qa;l.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Kc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?L0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new qa;g.updateFromIdToken(a);const _=new Jn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const tv=new Map;function Ji(s){Wi(s instanceof Function,"Expected a class definition");let t=tv.get(s);return t?(Wi(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,tv.set(s,t),t)}class U0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}U0.type="NONE";const ev=U0;function Oc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ha{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Oc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Oc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Gc(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ha(Ji(ev),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(ev);const d=Oc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const S=await y._get(d);if(S){let A;if(typeof S=="string"){const x=await Gc(t,{idToken:S}).catch(()=>{});if(!x)break;A=await Jn._fromGetAccountInfoResponse(t,x,S)}else A=Jn._fromJSON(t,S);y!==c&&(g=A),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ha(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ha(c,t,a))}}function nv(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(F0(t))return"Webos";if(z0(t))return"Safari";if((t.includes("chrome/")||j0(t))&&!t.includes("edge/"))return"Chrome";if(q0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function P0(s=We()){return/firefox\//i.test(s)}function z0(s=We()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function j0(s=We()){return/crios\//i.test(s)}function B0(s=We()){return/iemobile/i.test(s)}function q0(s=We()){return/android/i.test(s)}function H0(s=We()){return/blackberry/i.test(s)}function F0(s=We()){return/webos/i.test(s)}function Im(s=We()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function dw(s=We()){return Im(s)&&!!window.navigator?.standalone}function mw(){return RA()&&document.documentMode===10}function G0(s=We()){return Im(s)||q0(s)||F0(s)||H0(s)||/windows phone/i.test(s)||B0(s)}function K0(s,t=[]){let i;switch(s){case"Browser":i=nv(We());break;case"Worker":i=`${nv(We())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${io}/${a}`}class gw{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function pw(s,t={}){return er(s,"GET","/v2/passwordPolicy",tr(s,t))}const yw=6;class _w{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yw,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class vw{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iv(this),this.idTokenSubscription=new iv(this),this.beforeStateQueue=new gw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ha.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Gc(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Kc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Zb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Zi(this));const i=t?Qe(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pw(this),i=new _w(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Pl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await fw(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ha.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=K0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Yb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fr(s){return Qe(s)}class iv{constructor(t){this.auth=t,this.observer=null,this.addObserver=VA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ew(s){ch=s}function Q0(s){return ch.loadJS(s)}function Tw(){return ch.recaptchaEnterpriseScript}function Sw(){return ch.gapiScript}function Aw(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class bw{constructor(){this.enterprise=new ww}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class ww{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const Rw="recaptcha-enterprise",Y0="NO_RECAPTCHA";class Cw{constructor(t){this.type=Rw,this.auth=Fr(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,g)=>{sw(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(_=>{if(_.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new iw(_);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(_=>{g(_)})})}function l(c,d,g){const _=window.grecaptcha;$_(_)?_.enterprise.ready(()=>{_.enterprise.execute(c,{action:t}).then(y=>{d(y)}).catch(()=>{d(Y0)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bw().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(g=>{if(!i&&$_(window.grecaptcha))l(g,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let _=Tw();_.length!==0&&(_+=g),Q0(_).then(()=>{l(g,c,d)}).catch(y=>{d(y)})}}).catch(g=>{d(g)})})}}async function sv(s,t,i,a=!1,l=!1){const c=new Cw(s);let d;if(l)d=Y0;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const g={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const _=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:_,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const _=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return a?Object.assign(g,{captchaResp:d}):Object.assign(g,{captchaResponse:d}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function im(s,t,i,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await sv(s,t,i,i==="getOobCode");return a(s,c)}else return a(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await sv(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function Iw(s,t){const i=bm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ur(c,t??{}))return l;$n(l,"already-initialized")}return i.initialize({options:t})}function xw(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Nw(s,t,i){const a=Fr(s);pt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=X0(t),{host:d,port:g}=Dw(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){pt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),pt(Ur(y,a.config.emulator)&&Ur(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,no(d)?(S0(`${c}//${d}${_}`),A0("Auth",!0)):Ow()}function X0(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Dw(s){const t=X0(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:rv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:rv(d)}}}function rv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Ow(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class xm{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Mw(s,t){return er(s,"POST","/v1/accounts:signUp",t)}async function Vw(s,t){return Bl(s,"POST","/v1/accounts:signInWithPassword",tr(s,t))}async function kw(s,t){return Bl(s,"POST","/v1/accounts:signInWithEmailLink",tr(s,t))}async function Lw(s,t){return Bl(s,"POST","/v1/accounts:signInWithEmailLink",tr(s,t))}class Nl extends xm{constructor(t,i,a,l=null){super("password",a),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Nl(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Nl(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,i,"signInWithPassword",Vw);case"emailLink":return kw(t,{email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return im(t,a,"signUpPassword",Mw);case"emailLink":return Lw(t,{idToken:i,email:this._email,oobCode:this._password});default:$n(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Fa(s,t){return Bl(s,"POST","/v1/accounts:signInWithIdp",tr(s,t))}const Uw="http://localhost";class zr extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):$n("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new zr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:Uw,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=zl(i)}return t}}function Pw(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zw(s){const t=yl(_l(s)).link,i=t?yl(_l(t)).deep_link_id:null,a=yl(_l(s)).deep_link_id;return(a?yl(_l(a)).link:null)||a||i||t||s}class Nm{constructor(t){const i=yl(_l(t)),a=i.apiKey??null,l=i.oobCode??null,c=Pw(i.mode??null);pt(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=zw(t);try{return new Nm(i)}catch{return null}}}class so{constructor(){this.providerId=so.PROVIDER_ID}static credential(t,i){return Nl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=Nm.parseLink(i);return pt(a,"argument-error"),Nl._fromEmailAndCode(t,a.code,a.tenantId)}}so.PROVIDER_ID="password";so.EMAIL_PASSWORD_SIGN_IN_METHOD="password";so.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class J0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ql extends J0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Us extends ql{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:Us.PROVIDER_ID,signInMethod:Us.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Us.credentialFromTaggedObject(t)}static credentialFromError(t){return Us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Us.credential(t.oauthAccessToken)}catch{return null}}}Us.FACEBOOK_SIGN_IN_METHOD="facebook.com";Us.PROVIDER_ID="facebook.com";class Ps extends ql{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return zr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ps.credential(i,a)}catch{return null}}}Ps.GOOGLE_SIGN_IN_METHOD="google.com";Ps.PROVIDER_ID="google.com";class zs extends ql{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";class js extends ql{constructor(){super("twitter.com")}static credential(t,i){return zr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return js.credential(i,a)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function jw(s,t){return Bl(s,"POST","/v1/accounts:signUp",tr(s,t))}class jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Jn._fromIdTokenResponse(t,a,l),d=av(a);return new jr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=av(a);return new jr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function av(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Qc extends ns{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Qc(t,i,a,l)}}function Z0(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Qc._fromErrorAndOperation(s,c,t,a):c})}async function Bw(s,t,i=!1){const a=await xl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return jr._forOperation(s,"link",a)}async function qw(s,t,i=!1){const{auth:a}=s;if(Ln(a.app))return Promise.reject(Zi(a));const l="reauthenticate";try{const c=await xl(s,Z0(a,l,t,s),i);pt(c.idToken,a,"internal-error");const d=Cm(c.idToken);pt(d,a,"internal-error");const{sub:g}=d;return pt(s.uid===g,a,"user-mismatch"),jr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&$n(a,"user-mismatch"),c}}async function $0(s,t,i=!1){if(Ln(s.app))return Promise.reject(Zi(s));const a="signIn",l=await Z0(s,a,t),c=await jr._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function Hw(s,t){return $0(Fr(s),t)}async function W0(s){const t=Fr(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Fw(s,t,i){if(Ln(s.app))return Promise.reject(Zi(s));const a=Fr(s),d=await im(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jw).catch(_=>{throw _.code==="auth/password-does-not-meet-requirements"&&W0(s),_}),g=await jr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(g.user),g}function Gw(s,t,i){return Ln(s.app)?Promise.reject(Zi(s)):Hw(Qe(s),so.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&W0(s),a})}function Kw(s,t,i,a){return Qe(s).onIdTokenChanged(t,i,a)}function Qw(s,t,i){return Qe(s).beforeAuthStateChanged(t,i)}function Yw(s,t,i,a){return Qe(s).onAuthStateChanged(t,i,a)}function Xw(s){return Qe(s).signOut()}const Yc="__sak";class tE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Yc,"1"),this.storage.removeItem(Yc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Jw=1e3,Zw=10;class eE extends tE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);mw()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Zw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},Jw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}eE.type="LOCAL";const $w=eE;class nE extends tE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}nE.type="SESSION";const iE=nE;function Ww(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class hh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new hh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await Ww(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hh.receivers=[];function Dm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class t2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=Dm("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(A){const x=A;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(S),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ai(){return window}function e2(s){Ai().location.href=s}function sE(){return typeof Ai().WorkerGlobalScope<"u"&&typeof Ai().importScripts=="function"}async function n2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i2(){return navigator?.serviceWorker?.controller||null}function s2(){return sE()?self:null}const rE="firebaseLocalStorageDb",r2=1,Xc="firebaseLocalStorage",aE="fbase_key";class Hl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function fh(s,t){return s.transaction([Xc],t?"readwrite":"readonly").objectStore(Xc)}function a2(){const s=indexedDB.deleteDatabase(rE);return new Hl(s).toPromise()}function sm(){const s=indexedDB.open(rE,r2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Xc,{keyPath:aE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Xc)?t(a):(a.close(),await a2(),t(await sm()))})})}async function ov(s,t,i){const a=fh(s,!0).put({[aE]:t,value:i});return new Hl(a).toPromise()}async function o2(s,t){const i=fh(s,!1).get(t),a=await new Hl(i).toPromise();return a===void 0?null:a.value}function lv(s,t){const i=fh(s,!0).delete(t);return new Hl(i).toPromise()}const l2=800,u2=3;class oE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>u2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hh._getInstance(s2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await n2(),!this.activeServiceWorker)return;this.sender=new t2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||i2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await sm();return await ov(t,Yc,"1"),await lv(t,Yc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>ov(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>o2(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>lv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=fh(l,!1).getAll();return new Hl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oE.type="LOCAL";const c2=oE;new jl(3e4,6e4);function h2(s,t){return t?Ji(t):(pt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Om extends xm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function f2(s){return $0(s.auth,new Om(s),s.bypassAuthState)}function d2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),qw(i,new Om(s),s.bypassAuthState)}async function m2(s){const{auth:t,user:i}=s;return pt(i,t,"internal-error"),Bw(i,new Om(s),s.bypassAuthState)}class lE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return f2;case"linkViaPopup":case"linkViaRedirect":return m2;case"reauthViaPopup":case"reauthViaRedirect":return d2;default:$n(this.auth,"internal-error")}}resolve(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const g2=new jl(2e3,1e4);class Ba extends lE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,g2.get())};t()}}Ba.currentPopupAction=null;const p2="pendingRedirect",Mc=new Map;class y2 extends lE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Mc.get(this.auth._key());if(!t){try{const a=await _2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Mc.set(this.auth._key(),t)}return this.bypassAuthState||Mc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _2(s,t){const i=T2(t),a=E2(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function v2(s,t){Mc.set(s._key(),t)}function E2(s){return Ji(s._redirectPersistence)}function T2(s){return Oc(p2,s.config.apiKey,s.name)}async function S2(s,t,i=!1){if(Ln(s.app))return Promise.reject(Zi(s));const a=Fr(s),l=h2(a,t),d=await new y2(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const A2=600*1e3;class b2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!w2(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!uE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Si(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=A2&&this.cachedEventUids.clear(),this.cachedEventUids.has(uv(t))}saveEventToCache(t){this.cachedEventUids.add(uv(t)),this.lastProcessedEventTime=Date.now()}}function uv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function uE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function w2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uE(s);default:return!1}}async function R2(s,t={}){return er(s,"GET","/v1/projects",t)}const C2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I2=/^https?/;async function x2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await R2(s);for(const i of t)try{if(N2(i))return}catch{}$n(s,"unauthorized-domain")}function N2(s){const t=em(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!I2.test(i))return!1;if(C2.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const D2=new jl(3e4,6e4);function cv(){const s=Ai().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function O2(s){return new Promise((t,i)=>{function a(){cv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{cv(),i(Si(s,"network-request-failed"))},timeout:D2.get()})}if(Ai().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ai().gapi?.load)a();else{const l=Aw("iframefcb");return Ai()[l]=()=>{gapi.load?a():i(Si(s,"network-request-failed"))},Q0(`${Sw()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function M2(s){return Vc=Vc||O2(s),Vc}const V2=new jl(5e3,15e3),k2="__/auth/iframe",L2="emulator/auth/iframe",U2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},P2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z2(s){const t=s.config;pt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Rm(t,L2):`https://${s.config.authDomain}/${k2}`,a={apiKey:t.apiKey,appName:s.name,v:io},l=P2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${zl(a).slice(1)}`}async function j2(s){const t=await M2(s),i=Ai().gapi;return pt(i,s,"internal-error"),t.open({where:document.body,url:z2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Si(s,"network-request-failed"),g=Ai().setTimeout(()=>{c(d)},V2.get());function _(){Ai().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const B2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q2=500,H2=600,F2="_blank",G2="http://localhost";class hv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K2(s,t,i,a=q2,l=H2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...B2,width:a.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();i&&(g=j0(y)?F2:i),P0(y)&&(t=t||G2,_.scrollbars="yes");const S=Object.entries(_).reduce((x,[H,Z])=>`${x}${H}=${Z},`,"");if(dw(y)&&g!=="_self")return Q2(t||"",g),new hv(null);const A=window.open(t||"",g,S);pt(A,s,"popup-blocked");try{A.focus()}catch{}return new hv(A)}function Q2(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Y2="__/auth/handler",X2="emulator/auth/handler",J2=encodeURIComponent("fac");async function fv(s,t,i,a,l,c){pt(s.config.authDomain,s,"auth-domain-config-required"),pt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:io,eventId:l};if(t instanceof J0){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",MA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,A]of Object.entries({}))d[S]=A}if(t instanceof ql){const S=t.getScopes().filter(A=>A!=="");S.length>0&&(d.scopes=S.join(","))}s.tenantId&&(d.tid=s.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await s._getAppCheckToken(),y=_?`#${J2}=${encodeURIComponent(_)}`:"";return`${Z2(s)}?${zl(g).slice(1)}${y}`}function Z2({config:s}){return s.emulator?Rm(s,X2):`https://${s.authDomain}/${Y2}`}const Bd="webStorageSupport";class $2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iE,this._completeRedirectFn=S2,this._overrideRedirectResult=v2}async _openPopup(t,i,a,l){Wi(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await fv(t,i,a,em(),l);return K2(t,c,Dm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await fv(t,i,a,em(),l);return e2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Wi(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await j2(t),a=new b2(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),$n(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=x2(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return G0()||z0()||Im()}}const W2=$2;var dv="@firebase/auth",mv="1.12.0";class tR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function eR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nR(s){Xa(new Pr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:K0(s)},y=new vw(a,l,c,_);return xw(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new Pr("auth-internal",t=>{const i=Fr(t.getProvider("auth").getImmediate());return(a=>new tR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(dv,mv,eR(s)),Fs(dv,mv,"esm2020")}const iR=300,sR=T0("authIdTokenMaxAge")||iR;let gv=null;const rR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>sR)return;const l=i?.token;gv!==l&&(gv=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function aR(s=C0()){const t=bm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Iw(s,{popupRedirectResolver:W2,persistence:[c2,$w,iE]}),a=T0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=rR(c.toString());Qw(i,d,()=>d(i.currentUser)),Kw(i,g=>d(g))}}const l=v0("auth");return l&&Nw(i,`http://${l}`),i}function oR(){return document.getElementsByTagName("head")?.[0]??document}Ew({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Si("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",oR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nR("Browser");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gs,cE;(function(){var s;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,L){for(var w=Array(arguments.length-2),se=2;se<arguments.length;se++)w[se-2]=arguments[se];return b.prototype[D].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];let L=I.g[3],w;w=b+(L^C&(D^L))+V[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[2]+606105819&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+V[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[6]+2821735955&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+V[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[10]+4294925233&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(L^C&(D^L))+V[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(D^b&(C^D))+V[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=D+(C^L&(b^C))+V[14]+2792965006&4294967295,D=L+(w<<17&4294967295|w>>>15),w=C+(b^D&(L^b))+V[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(D^L&(C^D))+V[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[11]+643717713&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+V[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[15]+3634488961&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+V[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[3]+4107603335&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^L&(C^D))+V[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^D&(b^C))+V[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(L^b))+V[7]+1735328473&4294967295,D=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(D^L))+V[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(C^D^L)+V[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[11]+1839030562&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+V[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[7]+4139469664&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+V[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[3]+3572445317&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^L)+V[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^D)+V[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=D+(L^b^C)+V[15]+530742520&4294967295,D=L+(w<<16&4294967295|w>>>16),w=C+(D^L^b)+V[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(D^(C|~L))+V[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[14]+2878612391&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+V[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[10]+4293915773&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+V[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[6]+2734768916&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~L))+V[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~D))+V[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=D+(b^(L|~C))+V[2]+718787259&4294967295,D=L+(w<<15&4294967295|w>>>17),w=C+(L^(D|~b))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+L&4294967295}a.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<b;){if(D==0)for(;L<=C;)l(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<b;)if(V[D++]=I.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<b;)if(V[D++]=I[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=b},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[b++]=this.g[C]>>>V&255;return I};function c(I,b){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const L=I[D]|0;V&&L==b||(C[D]=L,V=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return A;if(I<0)return tt(y(-I));const b=[];let C=1;for(let V=0;I>=C;V++)b[V]=I/C|0,C*=4294967296;return new d(b,0)}function S(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return tt(S(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let V=A;for(let L=0;L<I.length;L+=8){var D=Math.min(8,I.length-L);const w=parseInt(I.substring(L,L+D),b);D<8?(D=y(Math.pow(b,D)),V=V.j(D).add(y(w))):(V=V.j(C),V=V.add(y(w)))}return V}var A=_(0),x=_(1),H=_(16777216);s=d.prototype,s.m=function(){if(et(this))return-tt(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*b,b*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(et(this))return"-"+tt(this).toString(I);const b=y(Math.pow(I,6));var C=this;let V="";for(;;){const D=gt(C,b).g;C=$(C,D.j(b));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Z(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function et(I){return I.h==-1}s.l=function(I){return I=$(this,I),et(I)?-1:Z(I)?0:1};function tt(I){const b=I.g.length,C=[];for(let V=0;V<b;V++)C[V]=~I.g[V];return new d(C,~I.h).add(x)}s.abs=function(){return et(this)?tt(this):this},s.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=b;D++){let L=V+(this.i(D)&65535)+(I.i(D)&65535),w=(L>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=w>>>16,L&=65535,w&=65535,C[D]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function $(I,b){return I.add(tt(b))}s.j=function(I){if(Z(this)||Z(I))return A;if(et(this))return et(I)?tt(this).j(tt(I)):tt(tt(this).j(I));if(et(I))return tt(this.j(tt(I)));if(this.l(H)<0&&I.l(H)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const L=this.i(V)>>>16,w=this.i(V)&65535,se=I.i(D)>>>16,Ce=I.i(D)&65535;C[2*V+2*D]+=w*Ce,nt(C,2*V+2*D),C[2*V+2*D+1]+=L*Ce,nt(C,2*V+2*D+1),C[2*V+2*D+1]+=w*se,nt(C,2*V+2*D+1),C[2*V+2*D+2]+=L*se,nt(C,2*V+2*D+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function nt(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function rt(I,b){this.g=I,this.h=b}function gt(I,b){if(Z(b))throw Error("division by zero");if(Z(I))return new rt(A,A);if(et(I))return b=gt(tt(I),b),new rt(tt(b.g),tt(b.h));if(et(b))return b=gt(I,tt(b)),new rt(tt(b.g),b.h);if(I.g.length>30){if(et(I)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var C=x,V=b;V.l(I)<=0;)C=xt(C),V=xt(V);var D=Rt(C,1),L=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!Z(V);){var w=L.add(V);w.l(I)<=0&&(D=D.add(C),L=w),V=Rt(V,1),C=Rt(C,1)}return b=$(I,D.j(b)),new rt(D,b)}for(D=A;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=y(C),w=L.j(b);et(w)||w.l(I)>0;)C-=V,L=y(C),w=L.j(b);Z(L)&&(L=x),D=D.add(L),I=$(I,w)}return new rt(D,I)}s.B=function(I){return gt(this,I).h},s.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},s.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},s.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function xt(I){const b=I.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Rt(I,b){const C=b>>5;b%=32;const V=I.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=b>0?I.i(L+C)>>>b|I.i(L+C+1)<<32-b:I.i(L+C);return new d(D,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,cE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=S,Gs=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hE,vl,fE,kc,rm,dE,mE,gE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function S(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var W=Array(arguments.length-2),St=2;St<arguments.length;St++)W[St-2]=arguments[St];return m.prototype[U].apply(T,W)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let W=0;W<B;W++)u[v+W]=U[W]}else u.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function $(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class nt{constructor(){this.h=this.g=null}add(m,v){const T=rt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var rt=new et(()=>new gt,u=>u.reset());class gt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,Rt=!1,I=new nt,b=()=>{const u=Promise.resolve(void 0);xt=()=>{u.then(C)}};function C(){for(var u;u=$();){try{u.h.call(u.g)}catch(v){tt(v)}var m=rt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function se(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(se,D),se.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const W=bt(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new it(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Ie={};function re(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,U);return null}return v=ho(v),u&&u[Ce]?u.J(m,v,g(T)?!!T.capture:!1,U):sr(u,m,v,!1,T,U)}function sr(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const W=g(U)?!!U.capture:!!U;let St=rr(u);if(St||(u[Lt]=St=new ot(u)),v=St.add(m,v,T,W,B),v.proxy)return v;if(T=Qr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Qr(){function u(v){return m.call(u.src,u.listener,v)}const m=uo;return u}function Yr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Yr(u,m[B],v,T,U);else T=g(T)?!!T.capture:!!T,v=ho(v),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=bt(m,v,T,U),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,U)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])_t(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=rr(m))?(_t(v,u),v.h==0&&(v.src=null,m[Lt]=null)):ft(u)}}}function Wn(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function uo(u,m){if(u.da)u=!0;else{m=new se(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=v.call(T,m)}return u}function rr(u){return u=u[Lt],u instanceof ot?u:null}var co="__closure_events_fn_"+(Math.random()*1e9>>>0);function ho(u){return typeof u=="function"?u:(u[co]||(u[co]=function(m){return u.handleEvent(m)}),u[co])}function pe(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}A(pe,V),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Yr(this,u,m,v,T)};function xe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),st(m,U)}U=!0;let B,W;if(v)for(W=v.length-1;W>=0;W--)B=m.g=v[W],U=is(B,T,!0,m)&&U;if(B=m.g=u,U=is(B,T,!0,m)&&U,U=is(B,T,!1,m)&&U,v)for(W=0;W<v.length;W++)B=m.g=v[W],U=is(B,T,!1,m)&&U}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function is(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const W=m[B];if(W&&!W.da&&W.capture==v){const St=W.listener,fe=W.ha||W.src;W.fa&&_t(u.i,W),U=St.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){V.call(this),this.h=u,this.g={}}A(ar,V);var fo=[];function mo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),mo(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ss=d.JSON.stringify,Dh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function $l(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}A(ze,D);function An(){D.call(this,"c")}A(An,D);var he={},Wl=null;function Jr(){return Wl=Wl||new pe}he.Ia="serverreachability";function tu(u){D.call(this,he.Ia,u)}A(tu,D);function ti(u){const m=Jr();xe(m,new tu(m))}he.STAT_EVENT="statevent";function or(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}A(or,D);function ye(u){const m=Jr();xe(m,new or(m,u))}he.Ja="timingevent";function ei(u,m){D.call(this,he.Ja,u),this.size=m}A(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var W="",St=B.split("&");for(let Bt=0;Bt<St.length;Bt++){var fe=St[Bt].split("=");if(fe.length>1){const ae=fe[0];fe=fe[1];const Cn=ae.split("_");W=Cn.length>=2&&Cn[1]=="type"?W+(ae+"="+fe+"&"):W+(ae+"=redacted&")}}}else W=null;else W=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function eu(u,m,v,T,U,B,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+W})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,v)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return ss(B)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},go={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function cr(){}A(cr,Zl),cr.prototype.g=function(){return new XMLHttpRequest},po=new cr;function Ni(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function jn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Ve={};function si(u,m,v){u.M=1,u.A=hr(Ee(m)),u.u=v,u.R=!0,Zr(u,null)}function Zr(u,m){u.F=Date.now(),ri(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(fo[0]=U.toString()),U=fo);for(let B=0;B<U.length;B++){const W=re(v,U[B],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const St=Fn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||St!=4||fe==7||(fe==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,ye(12),dn(this),bn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<v.length;)if(ae=su(this,v),ae==Ve){St==4&&(this.m=4,ye(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==_e){this.m=4,ye(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),oi(this,ae);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(W),W.P=!0,ye(11))}}else ii(this.i,this.l,v,null),oi(this,v);St==4&&dn(this),this.o&&!this.K&&(St==4?du(this.j,this):(this.o=!1,ri(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),dn(this),bn(this)}}}catch{}};function Vh(u){if(!iu(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const T=m.length,U=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(ti(),ye(17)),dn(this),this.m=2,bn(this)):$r(this,this.T-u)};function bn(u){u.j.I==0||u.K||du(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,mo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),fs(v);else break t;_r(v),ye(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(y(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&aa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const ae=Bt[0];if(!(ae<=v.K))if(v.K=ae,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const pi=Bt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Gn=Bt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const vr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var B=T.h;B.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vo(B,B.h),B.h=null))}if(T.G){const oa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Gt(T.J,T.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=pu(T,T.L?T.ba:null,T.W),W.L){Eo(T.h,W);var St=W,fe=T.O;fe&&(St.H=fe),St.D&&(ai(St),ri(St)),T.g=W}else hu(T);v.i.length>0&&mi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(v,7):xo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ti(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function yo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _o(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vo(u,m){u.g?u.g.add(m):u.h=m}function Eo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yo.prototype.cancel=function(){if(this.i=To(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function To(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,rs(this,u.u),this.h=u.h,So(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),rs(this,m[4]),this.h=ci(m[5]||"",!0),So(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new os(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,ta,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fr(v,v.charAt(0)=="/"?Ao:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fr(v,ou)),u.join("")},mn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)rs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let W=0;W<U.length;){const St=U[W++];St=="."?T&&W==U.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&W==U.length&&B.push("")):(B.push(St),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?So(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new mn(u)}function ke(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function rs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,v){m instanceof os?(u.i=m,na(u.i,u.l)):(v||(m=fr(m,as)),u.i=new os(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function hr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,au=/[#\?:]/g,Ao=/[#\?]/g,as=/[#\?@]/g,ou=/#/g;function os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=os.prototype,s.add=function(u,m){rn(this),this.i=null,u=ls(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){rn(u),m=ls(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bo(u,m){return rn(u),m=ls(u,m),u.g.has(m)}s.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function wo(u,m){rn(u);let v=[];if(typeof m=="string")bo(u,m)&&(v=v.concat(u.g.get(ls(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return rn(this),this.i=null,u=ls(this,u),bo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=wo(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(ls(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ni(v);v=wo(this,v);for(let B=0;B<v.length;B++){let W=U;v[B]!==""&&(W+="="+Ni(v[B])),u.push(W)}}return this.i=u.join("&")};function uu(u){const m=new os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ls(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(lu(this,T),ea(this,U,v))},u)),u.j=m}function qn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=S(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=S(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=S(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=S(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ro(u,m){const v=new zn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function us(){this.g=new Jl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(hi,Zl),hi.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(dr,pe),s=dr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,cs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cs(this):Hn(this),this.readyState==3&&ia(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,cs(this))},s.Na=function(u){this.g&&(this.response=u,cs(this))},s.ga=function(){this.g&&cs(this)};function cs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function mr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Ni(v):Gt(u,m,v))}function Yt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Yt,pe);var fi=/^https?$/i,Co=["POST","PUT"];s=Yt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){gr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,W]of v)this.g.setRequestHeader(B,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){gr(this,B)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Di(u)}function Io(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Di(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},s.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let W=String(u.D).match(ru)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!fi.test(W?W.toLowerCase():"")}v=T}if(v)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var U=Fn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Io(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||xe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=nu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function hs(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yo(u&&u.concurrentRequestLimit),this.Ba=new us,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=hs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),mi(this)};function xo(u){if(sa(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),yr(u,v),m=new jn(u,u.j,m),m.M=2,m.A=hr(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}gu(u)}function fs(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function sa(u){fs(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!_o(u.h)&&!u.m){u.m=!0;var m=u.Ea;xt||b(),Rt||(xt(),Rt=!0),I.add(m,u),u.D=0}}function ra(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),st(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,U,m),v=Ee(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),yr(this,v),B&&(this.R?m="headers="+Ni(Rn(B))+"&"+m:this.u&&mr(v,this.u,B)),vo(this.h,U),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||_o(this.h)||No(this))};function No(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),v=new jn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vo(u.h,v),si(v,T,m)}function yr(u,m){u.H&&Pt(u.H,function(v,T){Gt(m,T,v)}),u.l&&Pt({},function(v,T){Gt(m,T,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let St=-1;for(;;){const fe=["count="+v];St==-1?v>0?(St=U[0].g,fe.push("ofs="+St)):St=0:fe.push("ofs="+St);let Bt=!0;for(let ae=0;ae<v;ae++){var B=U[ae].g;const Cn=U[ae].map;if(B-=St,B<0)St=Math.max(0,U[ae].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var W=Cn instanceof Map?Cn:Object.entries(Cn);for(const[pi,Gn]of W){let Kn=Gn;g(Gn)&&(Kn=ss(Gn)),fe.push(B+pi+"="+encodeURIComponent(Kn))}}catch(pi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Cn)}}if(Bt){W=fe.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;xt||b(),Rt||(xt(),Rt=!0),I.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),mu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),fs(this),fu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hr(Ee(m)),v.u=null,v.R=!0,Zr(v,u)}s.Va=function(){this.C!=null&&(this.C=null,fs(this),_r(this),ye(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){aa(u),Do(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,Eo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Jr(),xe(T,new ei(T,v)),mi(u)}else hu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&_r(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),hr(T),U?qn(T.toString(),v):Ro(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),gu(u),sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=To(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var T=v instanceof mn?Ee(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),rs(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);T&&ke(B,T),m&&(B.g=m),U&&rs(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),yr(u,T),T}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new hi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}s=_u.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function ds(){}ds.prototype.g=function(u,m){return new en(u,m)};function en(u,m){pe.call(this),this.g=new hs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}A(en,pe),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){xo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ss(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&mi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,xo(this.g),delete this.g,en.Z.N.call(this)};function vu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(vu,ze);function Eu(){An.call(this),this.status=1}A(Eu,An);function Mi(u){this.g=u}A(Mi,_u),Mi.prototype.ra=function(){xe(this.g,"a")},Mi.prototype.qa=function(u){xe(this.g,new vu(u))},Mi.prototype.pa=function(u){xe(this.g,new Eu)},Mi.prototype.oa=function(){xe(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,gE=function(){return new ds},mE=function(){return Jr()},dE=he,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,kc=ur,go.COMPLETE="complete",fE=go,$l.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,vl=$l,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,hE=Yt}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let ro="12.8.0";function lR(s){ro=s}const Br=new Sm("@firebase/firestore");function Ua(){return Br.logLevel}function at(s,...t){if(Br.logLevel<=Ot.DEBUG){const i=t.map(Mm);Br.debug(`Firestore (${ro}): ${s}`,...i)}}function ts(s,...t){if(Br.logLevel<=Ot.ERROR){const i=t.map(Mm);Br.error(`Firestore (${ro}): ${s}`,...i)}}function Ja(s,...t){if(Br.logLevel<=Ot.WARN){const i=t.map(Mm);Br.warn(`Firestore (${ro}): ${s}`,...i)}}function Mm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,pE(s,a,i)}function pE(s,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||pE(t,l,a)}function Tt(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ns{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class yE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class cR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hR{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ks,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ks)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new yE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class fR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class dR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new fR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gR(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=gR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(s,t){return s<t?-1:s>t?1:0}function am(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return qd(l)===qd(c)?Mt(l,c):qd(l)?1:-1}return Mt(s.length,t.length)}const pR=55296,yR=57343;function qd(s){const t=s.charCodeAt(0);return t>=pR&&t<=yR}function Za(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const _v="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Gs.fromString(t.substring(4,t.length-2))}}class ne extends Ti{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const _R=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ti{construct(t,i,a){return new Ke(t,i,a)}static isValidIdentifier(t){return _R.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new Ke([_v])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}function _E(s,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function vR(s,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function vv(s){if(!dt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ev(s){if(dt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function vE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function km(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function qr(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(s);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Re(s,t){const i={typeString:s};return t&&(i.value=t),i}function Fl(s,t){if(!vE(s))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const Tv=-62135596800,Sv=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Sv);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Tv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Re("string",ie._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ie(0,0))}static max(){return new vt(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function ER(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new Ys(l,dt.empty(),t)}function TR(s){return new Ys(s.readTime,s.key,Dl)}class Ys{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ys(vt.min(),dt.empty(),Dl)}static max(){return new Ys(vt.max(),dt.empty(),Dl)}}function SR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(s.documentKey,t.documentKey),i!==0?i:Mt(s.largestBatchId,t.largestBatchId))}const AR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==AR)throw s;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((S=>{d[y]=S,++g,g===c&&a(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function wR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const Lm=-1;function mh(s){return s==null}function Jc(s){return s===0&&1/s==-1/0}function RR(s){return typeof s=="number"&&Number.isInteger(s)&&!Jc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const EE="";function CR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Av(t)),t=IR(s.get(i),t);return Av(t)}function IR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case EE:i+="";break;default:i+=c}}return i}function Av(s){return s+EE+""}function bv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function nr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function TE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class le{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ge(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(t){return new wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Me(Ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class SE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new SE("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const xR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xs(s){if(Ht(!!s,39018),typeof s=="string"){let t=0;const i=xR.exec(s);if(Ht(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Js(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const AE="server_timestamp",bE="__type__",wE="__previous_value__",RE="__local_write_time__";function Um(s){return(s?.mapValue?.fields||{})[bE]?.stringValue===AE}function gh(s){const t=s.mapValue.fields[wE];return Um(t)?gh(t):t}function Ol(s){const t=Xs(s.mapValue.fields[RE].timestampValue);return new ie(t.seconds,t.nanos)}class NR{constructor(t,i,a,l,c,d,g,_,y,S,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=S,this.apiKey=A}}const Zc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Zc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}function DR(s,t){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(s.options.projectId,t)}const CE="__type__",OR="__max__",Cc={mapValue:{}},IE="__vector__",$c="value";function Zs(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Um(s)?4:VR(s)?9007199254740991:MR(s)?10:11:yt(28295,{value:s})}function Ii(s,t){if(s===t)return!0;const i=Zs(s);if(i!==Zs(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Ol(s).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Xs(l.timestampValue),g=Xs(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Js(l.bytesValue).isEqual(Js(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),g=ge(c.doubleValue);return d===g?Jc(d)===Jc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Ii);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(bv(d)!==bv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Ii(d[_],g[_])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Vl(s,t){return(s.values||[]).find((i=>Ii(i,t)))!==void 0}function $a(s,t){if(s===t)return 0;const i=Zs(s),a=Zs(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(s,t);case 3:return Rv(s.timestampValue,t.timestampValue);case 4:return Rv(Ol(s),Ol(t));case 5:return am(s.stringValue,t.stringValue);case 6:return(function(c,d){const g=Js(c),_=Js(d);return g.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const S=Mt(g[y],_[y]);if(S!==0)return S}return Mt(g.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Mt(ge(c.latitude),ge(d.latitude));return g!==0?g:Mt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Cv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[$c]?.arrayValue,S=_[$c]?.arrayValue,A=Mt(y?.values?.length||0,S?.values?.length||0);return A!==0?A:Cv(y,S)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},S=Object.keys(y);_.sort(),S.sort();for(let A=0;A<_.length&&A<S.length;++A){const x=am(_[A],S[A]);if(x!==0)return x;const H=$a(g[_[A]],y[S[A]]);if(H!==0)return H}return Mt(_.length,S.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Rv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Mt(s,t);const i=Xs(s),a=Xs(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function Cv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=$a(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function Wa(s){return om(s)}function om(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Xs(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Js(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return dt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(s.mapValue):yt(61005,{value:s})}function Lc(s){switch(Zs(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(s);return t?16+Lc(t):16;case 5:return 2*s.stringValue.length;case 6:return Js(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Lc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return nr(a.fields,((c,d)=>{l+=c.length+Lc(d)})),l})(s.mapValue);default:throw yt(13486,{value:s})}}function lm(s){return!!s&&"integerValue"in s}function Pm(s){return!!s&&"arrayValue"in s}function Iv(s){return!!s&&"nullValue"in s}function xv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uc(s){return!!s&&"mapValue"in s}function MR(s){return(s?.mapValue?.fields||{})[CE]?.stringValue===IE}function bl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return nr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(s.arrayValue.values[i]);return t}return{...s}}function VR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OR}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Ke.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=bl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ii(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){nr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new fn(bl(this.value))}}function xE(s){const t=[];return nr(s.fields,((i,a)=>{const l=new Ke([i]);if(Uc(a)){const c=xE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class $e{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new $e(t,0,vt.min(),vt.min(),vt.min(),fn.empty(),0)}static newFoundDocument(t,i,a,l){return new $e(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new $e(t,2,i,vt.min(),vt.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,vt.min(),vt.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wc{constructor(t,i){this.position=t,this.inclusive=i}}function Nv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Dv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ii(s.position[i],t.position[i]))return!1;return!0}class th{constructor(t,i="asc"){this.field=t,this.dir=i}}function kR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class NE{}class De extends NE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new UR(t,i,a):i==="array-contains"?new jR(t,a):i==="in"?new BR(t,a):i==="not-in"?new qR(t,a):i==="array-contains-any"?new HR(t,a):new De(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new PR(t,a):new zR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&Zs(this.value)===Zs(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends NE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new xi(t,i)}matches(t){return DE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(s){return s.op==="and"}function OE(s){return LR(s)&&DE(s)}function LR(s){for(const t of s.filters)if(t instanceof xi)return!1;return!0}function um(s){if(s instanceof De)return s.field.canonicalString()+s.op.toString()+Wa(s.value);if(OE(s))return s.filters.map((t=>um(t))).join(",");{const t=s.filters.map((i=>um(i))).join(",");return`${s.op}(${t})`}}function ME(s,t){return s instanceof De?(function(a,l){return l instanceof De&&a.op===l.op&&a.field.isEqual(l.field)&&Ii(a.value,l.value)})(s,t):s instanceof xi?(function(a,l){return l instanceof xi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&ME(d,l.filters[g])),!0):!1})(s,t):void yt(19439)}function VE(s){return s instanceof De?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(s):s instanceof xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(VE).join(" ,")+"}"})(s):"Filter"}class UR extends De{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class PR extends De{constructor(t,i){super(t,"in",i),this.keys=kE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class zR extends De{constructor(t,i){super(t,"not-in",i),this.keys=kE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function kE(s,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class jR extends De{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&Vl(i.arrayValue,this.value)}}class BR extends De{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vl(this.value.arrayValue,i)}}class qR extends De{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vl(this.value.arrayValue,i)}}class HR extends De{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vl(this.value.arrayValue,a)))}}class FR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Ov(s,t=null,i=[],a=[],l=null,c=null,d=null){return new FR(s,t,i,a,l,c,d)}function zm(s){const t=Tt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function jm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!kR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!ME(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Dv(s.startAt,t.startAt)&&Dv(s.endAt,t.endAt)}function cm(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class ph{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function GR(s,t,i,a,l,c,d,g){return new ph(s,t,i,a,l,c,d,g)}function LE(s){return new ph(s)}function Mv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function KR(s){return dt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function QR(s){return s.collectionGroup!==null}function wl(s){const t=Tt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Me(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new th(c,a))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new th(Ke.keyField(),a))}return t.Ie}function bi(s){const t=Tt(s);return t.Ee||(t.Ee=YR(t,wl(s))),t.Ee}function YR(s,t){if(s.limitType==="F")return Ov(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new th(l.field,c)}));const i=s.endAt?new Wc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Wc(s.startAt.position,s.startAt.inclusive):null;return Ov(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function hm(s,t,i){return new ph(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function yh(s,t){return jm(bi(s),bi(t))&&s.limitType===t.limitType}function UE(s){return`${zm(bi(s))}|lt:${s.limitType}`}function Pa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>VE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>Wa(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>Wa(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function _h(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of wl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=Nv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,wl(a),l)||a.endAt&&!(function(d,g,_){const y=Nv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,wl(a),l))})(s,t)}function XR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function PE(s){return(t,i)=>{let a=!1;for(const l of wl(s)){const c=JR(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function JR(s,t,i){const a=s.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?$a(_,y):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}const ZR=new le(dt.comparator);function es(){return ZR}const zE=new le(dt.comparator);function El(...s){let t=zE;for(const i of s)t=t.insert(i.key,i);return t}function jE(s){let t=zE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Lr(){return Rl()}function BE(){return Rl()}function Rl(){return new Gr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const $R=new le(dt.comparator),WR=new Me(dt.comparator);function Vt(...s){let t=WR;for(const i of s)t=t.add(i);return t}const tC=new Me(Mt);function eC(){return tC}function Bm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function qE(s){return{integerValue:""+s}}function nC(s,t){return RR(t)?qE(t):Bm(s,t)}class vh{constructor(){this._=void 0}}function iC(s,t,i){return s instanceof eh?(function(l,c){const d={fields:{[bE]:{stringValue:AE},[RE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=gh(c)),c&&(d.fields[wE]=c),{mapValue:d}})(i,t):s instanceof kl?FE(s,t):s instanceof Ll?GE(s,t):(function(l,c){const d=HE(l,c),g=Vv(d)+Vv(l.Ae);return lm(d)&&lm(l.Ae)?qE(g):Bm(l.serializer,g)})(s,t)}function sC(s,t,i){return s instanceof kl?FE(s,t):s instanceof Ll?GE(s,t):i}function HE(s,t){return s instanceof nh?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class eh extends vh{}class kl extends vh{constructor(t){super(),this.elements=t}}function FE(s,t){const i=KE(t);for(const a of s.elements)i.some((l=>Ii(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ll extends vh{constructor(t){super(),this.elements=t}}function GE(s,t){let i=KE(t);for(const a of s.elements)i=i.filter((l=>!Ii(l,a)));return{arrayValue:{values:i}}}class nh extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Vv(s){return ge(s.integerValue||s.doubleValue)}function KE(s){return Pm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function rC(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof kl&&l instanceof kl||a instanceof Ll&&l instanceof Ll?Za(a.elements,l.elements,Ii):a instanceof nh&&l instanceof nh?Ii(a.Ae,l.Ae):a instanceof eh&&l instanceof eh})(s.transform,t.transform)}class aC{constructor(t,i){this.version=t,this.transformResults=i}}class wi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new wi}static exists(t){return new wi(void 0,t)}static updateTime(t){return new wi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Eh{}function QE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new XE(s.key,wi.none()):new Gl(s.key,s.data,wi.none());{const i=s.data,a=fn.empty();let l=new Me(Ke.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new ir(s.key,a,new Sn(l.toArray()),wi.none())}}function oC(s,t,i){s instanceof Gl?(function(l,c,d){const g=l.value.clone(),_=Lv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof ir?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Lv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(YE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(s,t,i,a){return s instanceof Gl?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),S=Uv(c.fieldTransforms,_,d);return y.setAll(S),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof ir?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=Uv(c.fieldTransforms,_,d),S=d.data;return S.setAll(YE(c)),S.setAll(y),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(s,t,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function lC(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=HE(a.transform,l||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function kv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>rC(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Gl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ir extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Lv(s,t,i){const a=new Map;Ht(s.length===i.length,32656,{Ve:i.length,de:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,sC(d,g,i[l]))}return a}function Uv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,iC(c,d,t))}return a}class XE extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uC extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cC{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&oC(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Cl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=BE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=QE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>kv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>kv(i,a)))}}class qm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return $R})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new qm(t,i,a,l)}}class hC{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class fC{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Ut;function dC(s){switch(s){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function JE(s){if(s===void 0)return ts("GRPC error has no .code"),J.UNKNOWN;switch(s){case we.OK:return J.OK;case we.CANCELLED:return J.CANCELLED;case we.UNKNOWN:return J.UNKNOWN;case we.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case we.INTERNAL:return J.INTERNAL;case we.UNAVAILABLE:return J.UNAVAILABLE;case we.UNAUTHENTICATED:return J.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case we.NOT_FOUND:return J.NOT_FOUND;case we.ALREADY_EXISTS:return J.ALREADY_EXISTS;case we.PERMISSION_DENIED:return J.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case we.ABORTED:return J.ABORTED;case we.OUT_OF_RANGE:return J.OUT_OF_RANGE;case we.UNIMPLEMENTED:return J.UNIMPLEMENTED;case we.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:s})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function mC(){return new TextEncoder}const gC=new Gs([4294967295,4294967295],0);function Pv(s){const t=mC().encode(s),i=new cE;return i.update(t),new Uint8Array(i.digest())}function zv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Gs([i,a],0),new Gs([l,c],0)]}class Hm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(a<0)throw new Tl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Gs.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Gs.fromNumber(a)));return l.compare(gC)===1&&(l=new Gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Pv(t),[a,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Hm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Pv(t),[a,l]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.be(d)}}be(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Th{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Kl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Th(vt.min(),l,new le(Mt),es(),Vt())}}class Kl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Kl(a,i,Vt(),Vt(),Vt())}}class zc{constructor(t,i,a,l){this.Se=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ZE{constructor(t,i){this.targetId=t,this.Ce=i}}class $E{constructor(t,i,a=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class jv{constructor(){this.ve=0,this.Fe=Bv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Kl(this.Me,this.xe,t,i,a)}Ke(){this.Oe=!1,this.Fe=Bv()}qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class pC{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.He=Ic(),this.Je=Ic(),this.Ze=new le(Mt)}Xe(t){for(const i of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(t.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.Qe(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new dt(c.path);this.et(i,d,$e.newNoDocument(d,vt.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Js(a).toUint8Array()}catch(_){if(_ instanceof SE)return Ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Hm(d,l,c)}catch(_){return Ja(_ instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&cm(g.target)){const _=new dt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,$e.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.Ke())}}));let a=Vt();this.Je.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Th(t,i,this.Ze,this.je,a);return this.je=es(),this.He=Ic(),this.Je=Ic(),this.Ze=new le(Mt),l}Ye(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).qe(i.key,a),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(t)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.qe(i,1):l.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(t)),this.Je=this.Je.insert(i,this.Rt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let i=this.ze.get(t);return i||(i=new jv,this.ze.set(t,i)),i}Rt(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}It(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new jv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new le(dt.comparator)}function Bv(){return new le(dt.comparator)}const yC={asc:"ASCENDING",desc:"DESCENDING"},_C={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vC={and:"AND",or:"OR"};class EC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(s,t){return s.useProto3Json||mh(t)?t:{value:t}}function ih(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function WE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function TC(s,t){return ih(s,t.toTimestamp())}function Ri(s){return Ht(!!s,49232),vt.fromTimestamp((function(i){const a=Xs(i);return new ie(a.seconds,a.nanos)})(s))}function Fm(s,t){return dm(s,t).canonicalString()}function dm(s,t){const i=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function tT(s){const t=ne.fromString(s);return Ht(rT(t),10190,{key:t.toString()}),t}function mm(s,t){return Fm(s.databaseId,t.path)}function Hd(s,t){const i=tT(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new dt(nT(i))}function eT(s,t){return Fm(s.databaseId,t)}function SC(s){const t=tT(s);return t.length===4?ne.emptyPath():nT(t)}function gm(s){return new ne(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function nT(s){return Ht(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function qv(s,t,i){return{name:mm(s,t),fields:i.value.mapValue.fields}}function AC(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,S){return y.useProto3Json?(Ht(S===void 0||typeof S=="string",58123),Ye.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),Ye.fromUint8Array(S||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const S=y.code===void 0?J.UNKNOWN:JE(y.code);return new ct(S,y.message||"")})(d);i=new $E(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Hd(s,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):vt.min(),g=new fn({mapValue:{fields:a.document.fields}}),_=$e.newFoundDocument(l,c,d,g),y=a.targetIds||[],S=a.removedTargetIds||[];i=new zc(y,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Hd(s,a.document),c=a.readTime?Ri(a.readTime):vt.min(),d=$e.newNoDocument(l,c),g=a.removedTargetIds||[];i=new zc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Hd(s,a.document),c=a.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new fC(l,c),g=a.targetId;i=new ZE(g,d)}}return i}function bC(s,t){let i;if(t instanceof Gl)i={update:qv(s,t.key,t.value)};else if(t instanceof XE)i={delete:mm(s,t.key)};else if(t instanceof ir)i={update:qv(s,t.key,t.data),updateMask:MC(t.fieldMask)};else{if(!(t instanceof uC))return yt(16599,{dt:t.type});i={verify:mm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof kl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof nh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:TC(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function wC(s,t){return s&&s.length>0?(Ht(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(vt.min())&&(d=Ri(c)),new aC(d,l.transformResults||[])})(i,t)))):[]}function RC(s,t){return{documents:[eT(s,t.path)]}}function CC(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=eT(s,l);const c=(function(y){if(y.length!==0)return sT(xi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((S=>(function(x){return{field:za(x.field),direction:NC(x.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fm(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function IC(s){let t=SC(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(A){const x=iT(A);return x instanceof xi&&OE(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((x=>(function(Z){return new th(ja(Z.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(x)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let x;return x=typeof A=="object"?A.value:A,mh(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(A){const x=!!A.before,H=A.values||[];return new Wc(H,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const x=!A.before,H=A.values||[];return new Wc(H,x)})(i.endAt)),GR(t,l,d,c,g,"F",_,y)}function xC(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ja(i.unaryFilter.field);return De.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return De.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return De.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return xi.create(i.compositeFilter.filters.map((a=>iT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function NC(s){return yC[s]}function DC(s){return _C[s]}function OC(s){return vC[s]}function za(s){return{fieldPath:s.canonicalString()}}function ja(s){return Ke.fromServerFormat(s.fieldPath)}function sT(s){return s instanceof De?(function(i){if(i.op==="=="){if(xv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(Iv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(xv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(Iv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:DC(i.op),value:i.value}}})(s):s instanceof xi?(function(i){const a=i.getFilters().map((l=>sT(l)));return a.length===1?a[0]:{compositeFilter:{op:OC(i.op),filters:a}}})(s):yt(54877,{filter:s})}function MC(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function rT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function aT(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}class Bs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Bs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class VC{constructor(t){this.yt=t}}function kC(s){const t=IC({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?hm(t,t.limit,"L"):t}class LC{constructor(){this.Sn=new UC}addToCollectionParentIndex(t,i){return this.Sn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Sn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ys.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ys.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class UC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oT=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(oT,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class to{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new to(0)}static ar(){return new to(-1)}}const Fv="LruGarbageCollector",PC=1048576;function Gv([s,t],[i,a]){const l=Mt(s,i);return l===0?Mt(t,a):l}class zC{constructor(t){this.Pr=t,this.buffer=new Me(Gv),this.Tr=0}Ir(){return++this.Tr}Er(t){const i=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(Fv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?at(Fv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Ar(3e5)}))}}class BC{constructor(t,i){this.Vr=t,this.params=i}calculateTargetCount(t,i){return this.Vr.dr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(dh.ce);const a=new zC(i);return this.Vr.forEachTarget(t,(l=>a.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>a.Er(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.Vr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.Vr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.gr(t,i)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,i){let a,l,c,d,g,_,y;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),l=this.params.maximumSequenceNumbersToCollect):l=A,d=Date.now(),this.nthSequenceNumber(t,l)))).next((A=>(a=A,g=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),Ua()<=Ot.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${A} documents in `+(y-_)+`ms
Total Duration: ${y-S}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:A}))))}}function qC(s,t){return new BC(s,t)}class HC{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class FC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class GC{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Cl(a.mutation,l,Sn.empty(),ie.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Lr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=El();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Lr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=es();const d=Rl(),g=(function(){return Rl()})();return i.forEach(((_,y)=>{const S=a.get(y.key);l.has(y.key)&&(S===void 0||S.mutation instanceof ir)?c=c.insert(y.key,y):S!==void 0?(d.set(y.key,S.mutation.getFieldMask()),Cl(S.mutation,y,S.mutation.getFieldMask(),ie.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,S)=>d.set(y,S))),i.forEach(((y,S)=>g.set(y,new FC(S,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Rl();let l=new le(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let S=a.get(_)||Sn.empty();S=g.applyToLocalView(y,S),a.set(_,S);const A=(l.get(g.batchId)||Vt()).add(_);l=l.insert(g.batchId,A)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,S=_.value,A=BE();S.forEach((x=>{if(!c.has(x)){const H=QE(i.get(x),a.get(x));H!==null&&A.set(x,H),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return KR(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):QR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Lr());let g=Dl,_=c;return d.next((y=>X.forEach(y,((S,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),c.get(S)?X.resolve():this.remoteDocumentCache.getEntry(t,S).next((x=>{_=_.insert(S,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((S=>({batchId:g,changes:jE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=El();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(A,x){return new ph(x,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((S=>{S.forEach(((A,x)=>{d=d.insert(A,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const S=y.getKey();d.get(S)===null&&(d=d.insert(S,$e.newInvalidDocument(S)))}));let g=El();return d.forEach(((_,y)=>{const S=c.get(_);S!==void 0&&Cl(S.mutation,y,Sn.empty(),ie.now()),_h(i,y)&&(g=g.insert(_,y))})),g}))}}class KC{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,i){return X.resolve(this.Nr.get(i))}saveBundleMetadata(t,i){return this.Nr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.Br.get(i))}saveNamedQuery(t,i){return this.Br.set(i.name,(function(l){return{name:l.name,query:kC(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),X.resolve()}}class QC{constructor(){this.overlays=new le(dt.comparator),this.Lr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Lr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.bt(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.Lr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Lr(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new le(((y,S)=>y-S));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let S=c.get(y.largestBatchId);S===null&&(S=Lr(),c=c.insert(y.largestBatchId,S)),S.set(y.getKey(),y)}}const g=Lr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,S)=>g.set(y,S))),!(g.size()>=l)););return X.resolve(g)}bt(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(a.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new hC(i,a));let c=this.Lr.get(i);c===void 0&&(c=Vt(),this.Lr.set(i,c)),this.Lr.set(i,c.add(a.key))}}class YC{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Gm{constructor(){this.kr=new Me(Ue.Kr),this.qr=new Me(Ue.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Wr(new Ue(t,i))}Qr(t,i){t.forEach((a=>this.removeReference(a,i)))}Gr(t){const i=new dt(new ne([])),a=new Ue(i,t),l=new Ue(i,t+1),c=[];return this.qr.forEachInRange([a,l],(d=>{this.Wr(d),c.push(d.key)})),c}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const i=new dt(new ne([])),a=new Ue(i,t),l=new Ue(i,t+1);let c=Vt();return this.qr.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ue(t,0),a=this.kr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Hr=i}static Kr(t,i){return dt.comparator(t.key,i.key)||Mt(t.Hr,i.Hr)}static Ur(t,i){return Mt(t.Hr,i.Hr)||dt.comparator(t.key,i.key)}}class XC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new Me(Ue.Kr)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new cC(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Jr=this.Jr.add(new Ue(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.Xr(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.Yn-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),l=new Ue(i,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([a,l],(d=>{const g=this.Zr(d.Hr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Ue(l,0),d=new Ue(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,d],(g=>{a=a.add(g.Hr)}))})),X.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Ue(new dt(c),0);let g=new Me(Mt);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Hr)),!0)}),d),X.resolve(this.Yr(g))}Yr(t){const i=[];return t.forEach((a=>{const l=this.Zr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return X.forEach(i.mutations,(l=>{const c=new Ue(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=a}))}nr(t){}containsKey(t,i){const a=new Ue(i,0),l=this.Jr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ei(t,i){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const i=this.Xr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class JC{constructor(t){this.ti=t,this.docs=(function(){return new le(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ti(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():$e.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:S}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||SR(TR(S),a)<=0||(l.has(S.key)||_h(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ni(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new ZC(this)}getSize(t){return X.resolve(this.size)}}class ZC extends HC{constructor(t){super(),this.Mr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Mr.getEntry(t,i)}getAllFromCache(t,i){return this.Mr.getEntries(t,i)}}class $C{constructor(t){this.persistence=t,this.ri=new Gr((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ii=0,this.si=new Gm,this.targetCount=0,this.oi=to._r()}forEachTarget(t,i){return this.ri.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.ii&&(this.ii=i),X.resolve()}lr(t){this.ri.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.oi=new to(i),this.highestTargetId=i),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,i){return this.lr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.lr(i),X.resolve()}removeTargetData(t,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.ri.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.ri.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.ri.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this.si.$r(i,a),X.resolve()}removeMatchingKeys(t,i,a){this.si.Qr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.si.Gr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this.si.jr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this.si.containsKey(i))}}class lT{constructor(t,i){this._i={},this.overlays={},this.ai=new dh(0),this.ui=!1,this.ui=!0,this.ci=new YC,this.referenceDelegate=t(this),this.li=new $C(this),this.indexManager=new LC,this.remoteDocumentCache=(function(l){return new JC(l)})((a=>this.referenceDelegate.hi(a))),this.serializer=new VC(i),this.Pi=new KC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new QC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this._i[t.toKey()];return a||(a=new XC(i,this.referenceDelegate),this._i[t.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new WC(this.ai.next());return this.referenceDelegate.Ti(),a(l).next((c=>this.referenceDelegate.Ii(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ei(t,i){return X.or(Object.values(this._i).map((a=>()=>a.containsKey(t,i))))}}class WC extends bR{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Gm,this.Ai=null}static Vi(t){return new Km(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.di.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.di.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.di.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.Gr(i.targetId).forEach((l=>this.di.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.di.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ti(){this.Ai=new Set}Ii(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.di,(a=>{const l=dt.fromPath(a);return this.mi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Ai=null,i.apply(t))))}updateLimboDocument(t,i){return this.mi(t,i).next((a=>{a?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(t){return 0}mi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ei(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.fi=new Gr((a=>CR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=qC(this,i)}static Vi(t,i){return new sh(t,i)}Ti(){}Ii(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}dr(t){const i=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}pr(t){let i=0;return this.mr(t,(a=>{i++})).next((()=>i))}mr(t,i){return X.forEach(this.fi,((a,l)=>this.wr(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.fi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.fi.set(i,t.currentSequenceNumber),X.resolve()}hi(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Lc(t.data.value)),i}wr(t,i,a){return X.or([()=>this.persistence.Ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.fi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Qm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Ts=a,this.Is=l}static Es(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Qm(t,i.fromCache,a,l)}}class tI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class eI{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return CA()?8:wR(We())>0?6:4})()}initialize(t,i){this.fs=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.gs(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ps(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new tI;return this.ys(t,i,d).next((g=>{if(c.result=g,this.As)return this.ws(t,i,d,g.size)}))})).next((()=>c.result))}ws(t,i,a,l){return a.documentReadCount<this.Vs?(Ua()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),X.resolve()):(Ua()<=Ot.DEBUG&&at("QueryEngine","Query:",Pa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ds*l?(Ua()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}gs(t,i){if(Mv(i))return X.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.fs.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.bs(i,g);return this.Ss(i,y,d,_.readTime)?this.gs(t,hm(i,null,"F")):this.Ds(t,y,i,_)}))))})))))}ps(t,i,a,l){return Mv(i)||l.isEqual(vt.min())?X.resolve(null):this.fs.getDocuments(t,a).next((c=>{const d=this.bs(i,c);return this.Ss(i,d,a,l)?X.resolve(null):(Ua()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.Ds(t,d,i,ER(l,Dl)).next((g=>g)))}))}bs(t,i){let a=new Me(PE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Ss(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}ys(t,i,a){return Ua()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.fs.getDocumentsMatchingQuery(t,i,Ys.min(),a)}Ds(t,i,a,l){return this.fs.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",nI=3e8;class iI{constructor(t,i,a,l){this.persistence=t,this.Cs=i,this.serializer=l,this.vs=new le(Mt),this.Fs=new Gr((c=>zm(c)),jm),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(a)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new GC(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.vs)))}}function sI(s,t,i,a){return new iI(s,t,i,a)}async function uT(s,t){const i=Tt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Os(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}for(const y of c){g.push(y.batchId);for(const S of y.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function rI(s,t){const i=Tt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.xs.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,S){const A=y.batch,x=A.keys();let H=X.resolve();return x.forEach((Z=>{H=H.next((()=>S.getEntry(_,Z))).next((et=>{const tt=y.docVersions.get(Z);Ht(tt!==null,48541),et.version.compareTo(tt)<0&&(A.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),S.addEntry(et)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(_,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function cT(s){const t=Tt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.li.getLastRemoteSnapshotVersion(i)))}function aI(s,t){const i=Tt(s),a=t.snapshotVersion;let l=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});l=i.vs;const g=[];t.targetChanges.forEach(((S,A)=>{const x=l.get(A);if(!x)return;g.push(i.li.removeMatchingKeys(c,S.removedDocuments,A).next((()=>i.li.addMatchingKeys(c,S.addedDocuments,A))));let H=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?H=H.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):S.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(S.resumeToken,a)),l=l.insert(A,H),(function(et,tt,$){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=nI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0})(x,H,S)&&g.push(i.li.updateTargetData(c,H))}));let _=es(),y=Vt();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(oI(c,d,t.documentUpdates).next((S=>{_=S.Bs,y=S.Ls}))),!a.isEqual(vt.min())){const S=i.li.getLastRemoteSnapshotVersion(c).next((A=>i.li.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(S)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.vs=l,c)))}function oI(s,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=es();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(Ym,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function lI(s,t){const i=Tt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function uI(s,t){const i=Tt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.li.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.li.allocateTargetId(a).next((d=>(l=new Bs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.li.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.vs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.vs=i.vs.insert(a.targetId,a),i.Fs.set(t,a.targetId)),a}))}async function pm(s,t,i){const a=Tt(s),l=a.vs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;at(Ym,`Failed to update sequence numbers for target ${t}: ${d}`)}a.vs=a.vs.remove(t),a.Fs.delete(l.target)}function Kv(s,t,i){const a=Tt(s);let l=vt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,S){const A=Tt(_),x=A.Fs.get(S);return x!==void 0?X.resolve(A.vs.get(x)):A.li.getTargetData(y,S)})(a,d,bi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Cs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Vt()))).next((g=>(cI(a,XR(t),g),{documents:g,ks:c})))))}function cI(s,t,i){let a=s.Ms.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Ms.set(t,a)}class Qv{constructor(){this.activeTargetIds=eC()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class hI{constructor(){this.vo=new Qv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,i,a){this.Fo[t]=i}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new Qv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fI{Mo(t){}shutdown(){}}const Yv="ConnectivityMonitor";class Xv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Yv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Yv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function ym(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Fd="RestConnection",dI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class mI{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+t.host,this.Uo=`projects/${a}/databases/${l}`,this.$o=this.databaseId.database===Zc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Wo(t,i,a,l,c){const d=ym(),g=this.Qo(t,i.toUriEncodedString());at(Fd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,c);const{host:y}=new URL(g),S=no(y);return this.zo(t,g,_,a,S).then((A=>(at(Fd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Ja(Fd,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",a),A}))}jo(t,i,a,l,c,d){return this.Wo(t,i,a,l,c)}Go(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}Qo(t,i){const a=dI[t];let l=`${this.qo}/v1/${i}:${a}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}class gI{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const Je="WebChannelConnection",pl=(s,t,i)=>{s.listen(t,(a=>{try{i(a)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ga extends mI{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ga.c_){const t=mE();pl(t,dE.STAT_EVENT,(i=>{i.stat===rm.PROXY?at(Je,"STAT_EVENT: detected buffering proxy"):i.stat===rm.NOPROXY&&at(Je,"STAT_EVENT: detected no buffering proxy")})),Ga.c_=!0}}zo(t,i,a,l,c){const d=ym();return new Promise(((g,_)=>{const y=new hE;y.setWithCredentials(!0),y.listenOnce(fE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const A=y.getResponseJson();at(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case kc.TIMEOUT:at(Je,`RPC '${t}' ${d} timed out`),_(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const x=y.getStatus();if(at(Je,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const et=(function($){const nt=$.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(nt)>=0?nt:J.UNKNOWN})(Z.status);_(new ct(et,Z.message))}else _(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Je,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);at(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",S,a,15)}))}T_(t,i,a){const l=ym(),c=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Go(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const y=c.join("");at(Je,`Creating RPC '${t}' stream ${l}: ${y}`,g);const S=d.createWebChannel(y,g);this.I_(S);let A=!1,x=!1;const H=new gI({Ho:Z=>{x?at(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(A||(at(Je,`Opening RPC '${t}' stream ${l} transport.`),S.open(),A=!0),at(Je,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Jo:()=>S.close()});return pl(S,vl.EventType.OPEN,(()=>{x||(at(Je,`RPC '${t}' stream ${l} transport opened.`),H.i_())})),pl(S,vl.EventType.CLOSE,(()=>{x||(x=!0,at(Je,`RPC '${t}' stream ${l} transport closed`),H.o_(),this.E_(S))})),pl(S,vl.EventType.ERROR,(Z=>{x||(x=!0,Ja(Je,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),H.o_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),pl(S,vl.EventType.MESSAGE,(Z=>{if(!x){const et=Z.data[0];Ht(!!et,16349);const tt=et,$=tt?.error||tt[0]?.error;if($){at(Je,`RPC '${t}' stream ${l} received error:`,$);const nt=$.status;let rt=(function(Rt){const I=we[Rt];if(I!==void 0)return JE(I)})(nt),gt=$.message;rt===void 0&&(rt=J.INTERNAL,gt="Unknown error status: "+nt+" with message "+$.message),x=!0,H.o_(new ct(rt,gt)),S.close()}else at(Je,`RPC '${t}' stream ${l} received:`,et),H.__(et)}})),Ga.u_(),setTimeout((()=>{H.s_()}),0),H}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((i=>i===t))}Go(t,i,a){super.Go(t,i,a),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gE()}}function pI(s){return new Ga(s)}function Gd(){return typeof document<"u"?document:null}function Sh(s){return new EC(s,!0)}Ga.c_=!1;class hT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Ci=t,this.timerId=i,this.R_=a,this.A_=l,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const i=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Jv="PersistentStream";class fT{constructor(t,i,a,l,c,d,g,_){this.Ci=t,this.b_=a,this.S_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(i)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.Q_(this.D_);this.stream=this.j_(t,i),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Jv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return i=>{this.Ci.enqueueAndForget((()=>this.D_===t?i():(at(Jv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class yI extends fT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=AC(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ri(d.readTime):vt.min()})(t);return this.listener.J_(i,a)}Z_(t){const i={};i.database=gm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=cm(_)?{documents:RC(c,_)}:{query:CC(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=WE(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=xC(this.serializer,t);a&&(i.labels=a),this.K_(i)}X_(t){const i={};i.database=gm(this.serializer),i.removeTarget=t,this.K_(i)}}class _I extends fT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}H_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=wC(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=gm(this.serializer),this.K_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>bC(this.serializer,a)))};this.K_(i)}}class vI{}class EI extends vI{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(t,dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}jo(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.jo(t,dm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function TI(s,t,i,a){return new EI(s,t,i,a)}class SI{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class AI{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((d=>{a.enqueueAndForget((async()=>{Kr(this)&&(at(Hr,"Restarting streams for network reachability change."),await(async function(_){const y=Tt(_);y.Ea.add(4),await Ql(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Va=new SI(a,l)}}async function Ah(s){if(Kr(s))for(const t of s.Ra)await t(!0)}async function Ql(s){for(const t of s.Ra)await t(!1)}function dT(s,t){const i=Tt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Zm(i):lo(i).O_()&&Jm(i,t))}function Xm(s,t){const i=Tt(s),a=lo(i);i.Ia.delete(t),a.O_()&&mT(i,t),i.Ia.size===0&&(a.O_()?a.L_():Kr(i)&&i.Va.set("Unknown"))}function Jm(s,t){if(s.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Z_(t)}function mT(s,t){s.da.$e(t),lo(s).X_(t)}function Zm(s){s.da=new pC({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Va.ua()}function $m(s){return Kr(s)&&!lo(s).x_()&&s.Ia.size>0}function Kr(s){return Tt(s).Ea.size===0}function gT(s){s.da=void 0}async function bI(s){s.Va.set("Online")}async function wI(s){s.Ia.forEach(((t,i)=>{Jm(s,t)}))}async function RI(s,t){gT(s),$m(s)?(s.Va.ha(t),Zm(s)):s.Va.set("Unknown")}async function CI(s,t,i){if(s.Va.set("Online"),t instanceof $E&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.da.removeTarget(g))})(s,t)}catch(a){at(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(s,a)}else if(t instanceof zc?s.da.Xe(t):t instanceof ZE?s.da.st(t):s.da.tt(t),!i.isEqual(vt.min()))try{const a=await cT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.da.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const S=c.Ia.get(y);S&&c.Ia.set(y,S.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const S=c.Ia.get(_);if(!S)return;c.Ia.set(_,S.withResumeToken(Ye.EMPTY_BYTE_STRING,S.snapshotVersion)),mT(c,_);const A=new Bs(S.target,_,y,S.sequenceNumber);Jm(c,A)})),c.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(a){at(Hr,"Failed to raise snapshot:",a),await rh(s,a)}}async function rh(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Ql(s),s.Va.set("Offline"),i||(i=()=>cT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Hr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ah(s)}))}function pT(s,t){return t().catch((i=>rh(s,i,t)))}async function bh(s){const t=Tt(s),i=$s(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;II(t);)try{const l=await lI(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,xI(t,l)}catch(l){await rh(t,l)}yT(t)&&_T(t)}function II(s){return Kr(s)&&s.Ta.length<10}function xI(s,t){s.Ta.push(t);const i=$s(s);i.O_()&&i.Y_&&i.ea(t.mutations)}function yT(s){return Kr(s)&&!$s(s).x_()&&s.Ta.length>0}function _T(s){$s(s).start()}async function NI(s){$s(s).ra()}async function DI(s){const t=$s(s);for(const i of s.Ta)t.ea(i.mutations)}async function OI(s,t,i){const a=s.Ta.shift(),l=qm.from(a,t,i);await pT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await bh(s)}async function MI(s,t){t&&$s(s).Y_&&await(async function(a,l){if((function(d){return dC(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();$s(a).B_(),await pT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(s,t),yT(s)&&_T(s)}async function Zv(s,t){const i=Tt(s);i.asyncQueue.verifyOperationInProgress(),at(Hr,"RemoteStore received new credentials");const a=Kr(i);i.Ea.add(3),await Ql(i),a&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function VI(s,t){const i=Tt(s);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Ql(i),i.Va.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new yI(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:bI.bind(null,s),Yo:wI.bind(null,s),t_:RI.bind(null,s),J_:CI.bind(null,s)}),s.Ra.push((async t=>{t?(s.ma.B_(),$m(s)?Zm(s):s.Va.set("Unknown")):(await s.ma.stop(),gT(s))}))),s.ma}function $s(s){return s.fa||(s.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new _I(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:NI.bind(null,s),t_:MI.bind(null,s),ta:DI.bind(null,s),na:OI.bind(null,s)}),s.Ra.push((async t=>{t?(s.fa.B_(),await bh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Hr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Wm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Wm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(s,t){if(ts("AsyncQueue",`${t}: ${s}`),oo(s))return new ct(J.UNAVAILABLE,`${t}: ${s}`);throw s}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=El(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new le(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class eo{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new eo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class kI{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class LI{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=Wv(),c.forEach(((d,g)=>{for(const _ of g.ba)_.onError(a)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function Wv(){return new Gr((s=>UE(s)),yh)}async function UI(s,t){const i=Tt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.Sa()&&t.Da()&&(a=2):(c=new kI,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=tg(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.ba.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&eg(i)}async function PI(s,t){const i=Tt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.ba.indexOf(t);d>=0&&(c.ba.splice(d,1),c.ba.length===0?l=t.Da()?0:1:!c.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zI(s,t){const i=Tt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ba)g.Fa(l)&&(a=!0);d.wa=l}}a&&eg(i)}function jI(s,t,i){const a=Tt(s),l=a.queries.get(t);if(l)for(const c of l.ba)c.onError(i);a.queries.delete(t)}function eg(s){s.Ca.forEach((t=>{t.next()}))}var _m,t0;(t0=_m||(_m={})).Ma="default",t0.Cache="cache";class BI{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new eo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.Ka||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class vT{constructor(t){this.key=t}}class ET{constructor(t){this.key=t}}class qI{constructor(t,i){this.query=t,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vt(),this.mutatedKeys=Vt(),this.eu=PE(t),this.tu=new Ka(this.eu)}get nu(){return this.Za}ru(t,i){const a=i?i.iu:new $v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,A)=>{const x=l.get(S),H=_h(this.query,A)?A:null,Z=!!x&&this.mutatedKeys.has(x.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;x&&H?x.data.isEqual(H.data)?Z!==et&&(a.track({type:3,doc:H}),tt=!0):this.su(x,H)||(a.track({type:2,doc:H}),tt=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(g=!0)):!x&&H?(a.track({type:0,doc:H}),tt=!0):x&&!H&&(a.track({type:1,doc:x}),tt=!0,(_||y)&&(g=!0)),tt&&(H?(d=d.add(H),c=et?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),a.track({type:1,doc:S})}return{tu:d,iu:a,Ss:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,A)=>(function(H,Z){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:tt})}};return et(H)-et(Z)})(S.type,A.type)||this.eu(S.doc,A.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const i=[];return t.forEach((a=>{this.Ya.has(a)||i.push(new ET(a))})),this.Ya.forEach((a=>{t.has(a)||i.push(new vT(a))})),i}cu(t){this.Za=t.ks,this.Ya=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ng="SyncEngine";class HI{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class FI{constructor(t){this.key=t,this.hu=!1}}class GI{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((g=>UE(g)),yh),this.Iu=new Map,this.Eu=new Set,this.Ru=new le(dt.comparator),this.Au=new Map,this.Vu=new Gm,this.du={},this.mu=new Map,this.fu=to.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KI(s,t,i=!0){const a=RT(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await TT(a,t,i,!0),l}async function QI(s,t){const i=RT(s);await TT(i,t,!0,!1)}async function TT(s,t,i,a){const l=await uI(s.localStore,bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await YI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&dT(s.remoteStore,l),g}async function YI(s,t,i,a,l){s.pu=(A,x,H)=>(async function(et,tt,$,nt){let rt=tt.view.ru($);rt.Ss&&(rt=await Kv(et.localStore,tt.query,!1).then((({documents:I})=>tt.view.ru(I,rt))));const gt=nt&&nt.targetChanges.get(tt.targetId),xt=nt&&nt.targetMismatches.get(tt.targetId)!=null,Rt=tt.view.applyChanges(rt,et.isPrimaryClient,gt,xt);return n0(et,tt.targetId,Rt.au),Rt.snapshot})(s,A,x,H);const c=await Kv(s.localStore,t,!0),d=new qI(t,c.ks),g=d.ru(c.documents),_=Kl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),y=d.applyChanges(g,s.isPrimaryClient,_);n0(s,i,y.au);const S=new HI(t,i,d);return s.Tu.set(t,S),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function XI(s,t,i){const a=Tt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Xm(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(ao)):(vm(a,l.targetId),await pm(a.localStore,l.targetId,!0))}async function JI(s,t){const i=Tt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(i.remoteStore,a.targetId))}async function ZI(s,t,i){const a=sx(s);try{const l=await(function(d,g){const _=Tt(d),y=ie.now(),S=g.reduce(((H,Z)=>H.add(Z.key)),Vt());let A,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=es(),et=Vt();return _.xs.getEntries(H,S).next((tt=>{Z=tt,Z.forEach((($,nt)=>{nt.isValidDocument()||(et=et.add($))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,Z))).next((tt=>{A=tt;const $=[];for(const nt of g){const rt=lC(nt,A.get(nt.key).overlayedDocument);rt!=null&&$.push(new ir(nt.key,rt,xE(rt.value.mapValue),wi.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,$,g)})).next((tt=>{x=tt;const $=tt.applyToLocalDocumentSet(A,et);return _.documentOverlayCache.saveOverlays(H,tt.batchId,$)}))})).then((()=>({batchId:x.batchId,changes:jE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.du[d.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(g,_),d.du[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=tg(l,"Failed to persist write");i.reject(c)}}async function ST(s,t){const i=Tt(s);try{const a=await aI(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await ao(a)}}function e0(s,t,i){const a=Tt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Tt(d);_.onlineState=g;let y=!1;_.queries.forEach(((S,A)=>{for(const x of A.ba)x.va(g)&&(y=!0)})),y&&eg(_)})(a.eventManager,t),l.length&&a.Pu.J_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function $I(s,t,i){const a=Tt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new le(dt.comparator);d=d.insert(c,$e.newNoDocument(c,vt.min()));const g=Vt().add(c),_=new Th(vt.min(),new Map,new le(Mt),d,g);await ST(a,_),a.Ru=a.Ru.remove(c),a.Au.delete(t),ig(a)}else await pm(a.localStore,t,!1).then((()=>vm(a,t,i))).catch(ao)}async function WI(s,t){const i=Tt(s),a=t.batch.batchId;try{const l=await rI(i.localStore,t);bT(i,a,null),AT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await ao(l)}}async function tx(s,t,i){const a=Tt(s);try{const l=await(function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let S;return _.mutationQueue.lookupMutationBatch(y,g).next((A=>(Ht(A!==null,37113),S=A.keys(),_.mutationQueue.removeMutationBatch(y,A)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,S,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,S))).next((()=>_.localDocuments.getDocuments(y,S)))}))})(a.localStore,t);bT(a,t,i),AT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await ao(l)}}function AT(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function bT(s,t,i){const a=Tt(s);let l=a.du[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.du[a.currentUser.toKey()]=l}}function vm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Vu.Gr(t).forEach((a=>{s.Vu.containsKey(a)||wT(s,a)}))}function wT(s,t){s.Eu.delete(t.path.canonicalString());const i=s.Ru.get(t);i!==null&&(Xm(s.remoteStore,i),s.Ru=s.Ru.remove(t),s.Au.delete(i),ig(s))}function n0(s,t,i){for(const a of i)a instanceof vT?(s.Vu.addReference(a.key,t),ex(s,a)):a instanceof ET?(at(ng,"Document no longer in limbo: "+a.key),s.Vu.removeReference(a.key,t),s.Vu.containsKey(a.key)||wT(s,a.key)):yt(19791,{wu:a})}function ex(s,t){const i=t.key,a=i.path.canonicalString();s.Ru.get(i)||s.Eu.has(a)||(at(ng,"New document in limbo: "+i),s.Eu.add(a),ig(s))}function ig(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new dt(ne.fromString(t)),a=s.fu.next();s.Au.set(a,new FI(i)),s.Ru=s.Ru.insert(i,a),dT(s.remoteStore,new Bs(bi(LE(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Yl(s,t,i){const a=Tt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const S=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Qm.Es(_.targetId,y);c.push(S)}})))})),await Promise.all(d),a.Pu.J_(l),await(async function(_,y){const S=Tt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(x=>X.forEach(x.Ts,(H=>S.persistence.referenceDelegate.addReference(A,x.targetId,H))).next((()=>X.forEach(x.Is,(H=>S.persistence.referenceDelegate.removeReference(A,x.targetId,H)))))))))}catch(A){if(!oo(A))throw A;at(Ym,"Failed to update sequence numbers: "+A)}for(const A of y){const x=A.targetId;if(!A.fromCache){const H=S.vs.get(x),Z=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(Z);S.vs=S.vs.insert(x,et)}}})(a.localStore,c))}async function nx(s,t){const i=Tt(s);if(!i.currentUser.isEqual(t)){at(ng,"User change. New user:",t.toKey());const a=await uT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ns)}}function ix(s,t){const i=Tt(s),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function RT(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ix.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$I.bind(null,t),t.Pu.J_=zI.bind(null,t.eventManager),t.Pu.yu=jI.bind(null,t.eventManager),t}function sx(s){const t=Tt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=WI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tx.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return sI(this.persistence,new eI,t.initialUser,this.serializer)}Cu(t){return new lT(Km.Vi,this.serializer)}Du(t){return new hI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class rx extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new jC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new lT((a=>sh.Vi(a,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>e0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=nx.bind(null,this.syncEngine),await VI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new LI})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=pI(t.databaseInfo);return TI(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new AI(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>e0(this.syncEngine,i,0)),(function(){return Xv.v()?new Xv:new fI})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,S){const A=new GI(l,c,d,g,_,y);return S&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);at(Hr,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class ax{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Ws="FirestoreClient";class ox{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this._databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(Ws,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(Ws,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=tg(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),at(Ws,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await uT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function i0(s,t){s.asyncQueue.verifyOperationInProgress();const i=await lx(s);at(Ws,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>Zv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>Zv(t.remoteStore,l))),s._onlineComponents=t}async function lx(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Ws,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Kd(s,new ah)}}else at(Ws,"Using default OfflineComponentProvider"),await Kd(s,new rx(void 0));return s._offlineComponents}async function CT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Ws,"Using user provided OnlineComponentProvider"),await i0(s,s._uninitializedComponentsProvider._online)):(at(Ws,"Using default OnlineComponentProvider"),await i0(s,new Em))),s._onlineComponents}function ux(s){return CT(s).then((t=>t.syncEngine))}async function cx(s){const t=await CT(s),i=t.eventManager;return i.onListen=KI.bind(null,t.syncEngine),i.onUnlisten=XI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=JI.bind(null,t.syncEngine),i}function hx(s,t,i={}){const a=new Ks;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const S=new ax({next:x=>{S.Nu(),d.enqueueAndForget((()=>PI(c,A))),x.fromCache&&_.source==="server"?y.reject(new ct(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),A=new BI(g,S,{includeMetadataChanges:!0,Ka:!0});return UI(c,A)})(await cx(s),s.asyncQueue,t,i,a))),a.promise}function fx(s,t){const i=new Ks;return s.asyncQueue.enqueueAndForget((async()=>ZI(await ux(s),t,i))),i.promise}function IT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const dx="ComponentProvider",s0=new Map;function mx(s,t,i,a,l){return new NR(s,t,i,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,IT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,a)}const xT="firestore.googleapis.com",r0=!0;class a0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=xT,this.ssl=r0}else this.host=t.host,this.ssl=t.ssl??r0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<PC)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uR;switch(a.type){case"firstParty":return new dR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=s0.get(i);a&&(at(dx,"Removing Datastore"),s0.delete(i),a.terminate())})(this),Promise.resolve()}}function gx(s,t,i,a={}){s=qr(s,wh);const l=no(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;l&&(S0(`https://${g}`),A0("Firestore",!0)),c.host!==xT&&c.host!==g&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!Ur(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,S;if(typeof a.mockUserToken=="string")y=a.mockUserToken,S=Ze.MOCK_USER;else{y=_A(a.mockUserToken,s._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ze(A)}s._authCredentials=new cR(new yE(y,S))}}class Rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class Oe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,Oe._jsonSchema))return new Oe(t,a||null,new dt(ne.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:Re("string",Oe._jsonSchemaVersion),referencePath:Re("string")};class Qs extends Rh{constructor(t,i,a){super(t,i,LE(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new dt(t))}withConverter(t){return new Qs(this.firestore,t,this._path)}}function px(s,t,...i){if(s=Qe(s),_E("collection","path",t),s instanceof wh){const a=ne.fromString(t,...i);return Ev(a),new Qs(s,null,a)}{if(!(s instanceof Oe||s instanceof Qs))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return Ev(a),new Qs(s.firestore,null,a)}}function o0(s,t,...i){if(s=Qe(s),arguments.length===1&&(t=Vm.newId()),_E("doc","path",t),s instanceof wh){const a=ne.fromString(t,...i);return vv(a),new Oe(s,null,new dt(a))}{if(!(s instanceof Oe||s instanceof Qs))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(ne.fromString(t,...i));return vv(a),new Oe(s.firestore,s instanceof Qs?s.converter:null,new dt(a))}}const l0="AsyncQueue";class u0{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hT(this,"async_queue_retry"),this._c=()=>{const a=Gd();a&&at(l0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;at(l0,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",c0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Wm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function c0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ch extends wh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new u0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new u0(t),this._firestoreClient=void 0,await t}}}function yx(s,t){const i=typeof s=="object"?s:C0(),a=typeof s=="string"?s:Zc,l=bm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=pA("firestore");c&&gx(l,...c)}return l}function NT(s){if(s._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_x(s),s._firestoreClient}function _x(s){const t=s._freezeSettings(),i=mx(s._databaseId,s._app?.options.appId||"",s._persistenceKey,s._app?.options.apiKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new ox(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Re("string",Un._jsonSchemaVersion),bytes:Re("string")};class sg{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rg{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Re("string",Ci._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};class Zn{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Zn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Zn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Zn(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zn._jsonSchemaVersion="firestore/vectorValue/1.0",Zn._jsonSchema={type:Re("string",Zn._jsonSchemaVersion),vectorValues:Re("object")};const vx=/^__.*__$/;class Ex{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class DT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function OT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:s})}}class ag{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new ag({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePathSegment(t),a}childContextForFieldPath(t){const i=this.path?.child(t),a=this.contextWith({path:i,arrayElement:!1});return a.validatePath(),a}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return oh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(OT(this.dataSource)&&vx.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class Tx{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}createContext(t,i,a,l=!1){return new ag({dataSource:t,methodName:i,targetDoc:a,path:Ke.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function MT(s){const t=s._freezeSettings(),i=Sh(s._databaseId);return new Tx(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Sx(s,t,i,a,l,c={}){const d=s.createContext(c.merge||c.mergeFields?2:0,t,i,l);og("Data must be an object, but it was:",d,a);const g=VT(a,d);let _,y;if(c.merge)_=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const A of c.mergeFields){const x=Ul(t,A,i);if(!d.contains(x))throw new ct(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);UT(S,x)||S.push(x)}_=new Sn(S),y=d.fieldTransforms.filter((A=>_.covers(A.field)))}else _=null,y=d.fieldTransforms;return new Ex(new fn(g),_,y)}class Ih extends rg{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}function Ax(s,t,i,a){const l=s.createContext(1,t,i);og("Data must be an object, but it was:",l,a);const c=[],d=fn.empty();nr(a,((_,y)=>{const S=LT(t,_,i);y=Qe(y);const A=l.childContextForFieldPath(S);if(y instanceof Ih)c.push(S);else{const x=xh(y,A);x!=null&&(c.push(S),d.set(S,x))}}));const g=new Sn(c);return new DT(d,g,l.fieldTransforms)}function bx(s,t,i,a,l,c){const d=s.createContext(1,t,i),g=[Ul(t,a,i)],_=[l];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)g.push(Ul(t,c[x])),_.push(c[x+1]);const y=[],S=fn.empty();for(let x=g.length-1;x>=0;--x)if(!UT(y,g[x])){const H=g[x];let Z=_[x];Z=Qe(Z);const et=d.childContextForFieldPath(H);if(Z instanceof Ih)y.push(H);else{const tt=xh(Z,et);tt!=null&&(y.push(H),S.set(H,tt))}}const A=new Sn(y);return new DT(S,A,d.fieldTransforms)}function xh(s,t){if(kT(s=Qe(s)))return og("Unsupported field value:",t,s),VT(s,t);if(s instanceof rg)return(function(a,l){if(!OT(l.dataSource))throw l.createError(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=xh(g,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return nC(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:WE(l.serializer,a._byteString)};if(a instanceof Oe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zn)return(function(d,g){const _=d instanceof Zn?d.toArray():d;return{mapValue:{fields:{[CE]:{stringValue:IE},[$c]:{arrayValue:{values:_.map((S=>{if(typeof S!="number")throw g.createError("VectorValues must only contain numeric values.");return Bm(g.serializer,S)}))}}}}}})(a,l);if(aT(a))return a._toProto(l.serializer);throw l.createError(`Unsupported field value: ${km(a)}`)})(s,t)}function VT(s,t){const i={};return TE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(s,((a,l)=>{const c=xh(l,t.childContextForField(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function kT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ie||s instanceof Ci||s instanceof Un||s instanceof Oe||s instanceof rg||s instanceof Zn||aT(s))}function og(s,t,i){if(!kT(i)||!vE(i)){const a=km(i);throw a==="an object"?t.createError(s+" a custom object"):t.createError(s+" "+a)}}function Ul(s,t,i){if((t=Qe(t))instanceof sg)return t._internalPath;if(typeof t=="string")return LT(s,t);throw oh("Field path arguments must be of type string or ",s,!1,void 0,i)}const wx=new RegExp("[~\\*/\\[\\]]");function LT(s,t,i){if(t.search(wx)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new sg(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function oh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct(J.INVALID_ARGUMENT,g+s+_)}function UT(s,t){return s.some((i=>i.isEqual(t)))}class Rx{convertValue(t,i="none"){switch(Zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return nr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[$c].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Zn(i)}convertGeoPoint(t){return new Ci(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=Xs(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Ht(rT(a),9688,{name:t});const l=new Ml(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}class Cx extends Rx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}const h0="@firebase/firestore",f0="4.10.0";class PT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const i=this._document.data.field(Ul("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ix extends PT{data(){return super.data()}}function xx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Nx(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Nc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qa extends PT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(Ul("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qa._jsonSchema={type:Re("string",Qa._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class jc extends Qa{data(t={}){return super.data(t)}}class Ya{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Nc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new Nc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Nc(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,S=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:Dx(g.type),doc:_,oldIndex:y,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Dx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:Re("string",Ya._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};function Ox(s){s=qr(s,Rh);const t=qr(s.firestore,Ch),i=NT(t),a=new Cx(t);return xx(s._query),hx(i,s._query).then((l=>new Ya(t,a,s,l)))}function Mx(s,t,i){s=qr(s,Oe);const a=qr(s.firestore,Ch),l=Nx(s.converter,t),c=MT(a);return zT(a,[Sx(c,"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,wi.none())])}function Vx(s,t,i,...a){s=qr(s,Oe);const l=qr(s.firestore,Ch),c=MT(l);let d;return d=typeof(t=Qe(t))=="string"||t instanceof sg?bx(c,"updateDoc",s._key,t,i,a):Ax(c,"updateDoc",s._key,t),zT(l,[d.toMutation(s._key,wi.exists(!0))])}function zT(s,t){const i=NT(s);return fx(i,t)}(function(t,i=!0){lR(io),Xa(new Pr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Ch(new hR(a.getProvider("auth-internal")),new mR(d,a.getProvider("app-check-internal")),DR(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Fs(h0,f0,t),Fs(h0,f0,"esm2020")})();const kx={apiKey:"AIzaSyCOx4LI3xLTzBOlt3FwHVvE6wQl9wLWexI",authDomain:"equation-learning-media.firebaseapp.com",projectId:"equation-learning-media",storageBucket:"equation-learning-media.firebasestorage.app",messagingSenderId:"244796891599",appId:"1:244796891599:web:1982a079ae5c8a7af0f2ba",measurementId:"G-EFEVRP1MJB"},jT=R0(kx),lh=aR(jT),Qd=yx(jT),Lx=[{id:"1",title:" 1: ",summary:"",content:` (Inequality)   
 <  ( x < 5)
 >  ( x > 5)
   ()
   ()
  `,quiz:[{q:" '' ?",options:["<",">","",""],ans:2},{q:"?",options:["2x + 5 = 10","3x - 1 > 8","x + y","5 + 5 = 10"],ans:1},{q:"x  5 ?",options:["x  5","x  5","x  5","x  5"],ans:1}]},{id:"2",title:" 2: ",summary:"",content:` 2 :
1. :  <  > ()
2. :     ()`,quiz:[{q:"?",options:["<",">","",""],ans:3},{q:"x > 3 ?",options:[" 3 "," 3 "," 3 "," 3 "],ans:1},{q:"?",options:["","","",""],ans:1}]},{id:"3",title:" 3: ",summary:"",content:`:  

: x - 5 > 10
:  5  -> x - 5 + 5 > 10 + 5
: x > 15`,quiz:[{q:" x - 3 > 7  x ?",options:["x > 4","x > 10","x < 10","x > 21"],ans:1},{q:" ?",options:["","","",""],ans:1},{q:" x + 4  -2",options:["x  2","x  -6","x  -2","x  6"],ans:1}]},{id:"4",title:" 4: ",summary:"",content:`!  ''  ''

: -2x < 10
:  -2  ( <  >)
: x > -5`,quiz:[{q:" ?",options:["","","",""],ans:1},{q:" -3x  9",options:["x  -3","x  -3","x  3","x  3"],ans:1},{q:" x/2 < 4  x ?",options:["x < 2","x < 8","x > 8","x < 6"],ans:1}]},{id:"5",title:" 5: ",summary:"    ",content:`:
1.  ()
2.  () 

: 2x + 5 < 15
1.  5 : 2x < 10
2.  2 : x < 5`,quiz:[{q:" 3x + 1 > 10 ?",options:["x > 3","x > 9","x < 3","x > 3.33"],ans:0},{q:" 5 - x < 2",options:["x < 3","x > 3","x < -3","x > -3"],ans:1},{q:" 4x - 8  12 ?",options:[" 4"," 8"," 12"," 4"],ans:1}]},{id:"6",title:" 6: ",summary:"",content:`:  

: 5x + 2 > 3x + 10
 3x : 5x - 3x > 10 - 2
: 2x > 8 -> x > 4`,quiz:[{q:" 4x > 2x + 6",options:["x > 3","x > 2","x < 3","x = 3"],ans:0},{q:" x + 5 < 2x - 1 ?",options:["x > 6","x < 6","x > 4","x < 4"],ans:0},{q:" 3x = x + 4",options:[" x "," x "," 3x ",""],ans:3}]},{id:"7",title:" 7: ",summary:" . ",content:`:  ...  

: x/2 + x/3 > 5
...  2  3  6 ->  6 
3x + 2x > 30 -> 5x > 30 -> x > 6`,quiz:[{q:"...  x/3 + x/4 > 1 ?",options:["7","12","1","34"],ans:1},{q:" x/2 > 5",options:["x > 2.5","x > 10","x < 10","x > 7"],ans:1},{q:" (x+1)/3  2  x ?",options:["x  5","x  6","x  7","x  1"],ans:0}]},{id:"8",title:" 8: ",summary:"",content:`:
  =  ()
  =  ()
  =  (>)
  =  (<)`,quiz:[{q:"' 500 ' ?",options:["x < 500","x > 500","x  500","x  500"],ans:3},{q:"' 18 ' ?",options:["x < 18","x  18","x > 18","x  18"],ans:0},{q:" 5  20",options:["3x + 5 < 20","3x + 5  20","3(x+5)  20","3x + 5  20"],ans:1}]},{id:"9",title:" 9: ",summary:" x  y",content:`: Ax + By + C < 0 ()
  ' (Area)'  X-Y`,quiz:[{q:"?",options:["Ax + By < C","Ax + By < C","Ax + B = 0","y = mx + c"],ans:0},{q:"?",options:["","","",""],ans:2},{q:" (0,0)  x + y < 5 ?",options:["","","",""],ans:0}]},{id:"10",title:" 10: ",summary:" (Intersection) ",content:` 1  ()  ' (Overlap)'

:  ->  -> `,quiz:[{q:"?",options:["","","",""],ans:1},{q:" ?",options:["",""," 0",""],ans:1},{q:"?",options:["<, >",", ","=",""],ans:1}]}],Ux=()=>{const[s,t]=$t.useState(!1),[i,a]=$t.useState(""),[l,c]=$t.useState(""),[d,g]=$t.useState(""),[_,y]=$t.useState(!1),S=async A=>{A.preventDefault(),g(""),y(!0);try{s?await Fw(lh,i,l):await Gw(lh,i,l)}catch(x){console.error(x),x.code==="auth/email-already-in-use"?g(""):x.code==="auth/invalid-email"?g(""):x.code==="auth/weak-password"?g(" 6 "):g("")}finally{y(!1)}};return M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4",children:M.jsxs("div",{className:"bg-white p-8 rounded-xl shadow-lg w-full max-w-md animate-fade-in",children:[M.jsxs("div",{className:"text-center mb-6",children:[M.jsx("div",{className:"bg-indigo-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:M.jsx(Bc,{className:"text-white h-8 w-8"})}),M.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s?"":""}),M.jsx("p",{className:"text-gray-500",children:"Equation Learning Media"})]}),M.jsxs("form",{onSubmit:S,className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"email",value:i,onChange:A=>a(A.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:"user@example.com",required:!0})]}),M.jsxs("div",{children:[M.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),M.jsx("input",{type:"password",value:l,onChange:A=>c(A.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none",placeholder:" (6 )",required:!0})]}),d&&M.jsx("div",{className:"text-red-500 text-sm text-center bg-red-50 p-2 rounded",children:d}),M.jsx("button",{type:"submit",disabled:_,className:"w-full bg-indigo-600 text-white py-2.5 rounded-lg hover:bg-indigo-700 font-bold shadow transition flex justify-center items-center gap-2",children:_?"...":s?M.jsxs(M.Fragment,{children:[M.jsx(sA,{size:18})," "]}):M.jsxs(M.Fragment,{children:[M.jsx(YS,{size:18})," "]})})]}),M.jsx("div",{className:"mt-6 text-center border-t pt-4",children:M.jsxs("p",{className:"text-sm text-gray-600",children:[s?"?":"?",M.jsx("button",{onClick:()=>{t(!s),g("")},className:"ml-2 text-indigo-600 font-bold hover:underline focus:outline-none",children:s?"":""})]})})]})})},Px=()=>{const[s,t]=$t.useState(null),[i,a]=$t.useState([]),[l,c]=$t.useState(!0),[d,g]=$t.useState("home"),[_,y]=$t.useState(!1),[S,A]=$t.useState({});$t.useEffect(()=>{const nt=Yw(lh,rt=>{if(rt){const gt=rt.email==="admin@gmail.com"?"admin":"user";t({...rt,role:gt,username:rt.email.split("@")[0]})}else t(null);c(!1)});return()=>nt()},[]),$t.useEffect(()=>{s&&(async()=>{try{const rt=await Ox(px(Qd,"lessons")),gt=[];rt.forEach(xt=>{gt.push({id:xt.id,...xt.data()})}),gt.length>0&&(gt.sort((xt,Rt)=>parseInt(xt.id)-parseInt(Rt.id)),a(gt))}catch(rt){console.error("Error loading lessons:",rt)}})()},[s]);const x=async(nt,rt)=>{try{const gt=o0(Qd,"lessons",nt.toString());await Vx(gt,rt),a(xt=>xt.map(Rt=>Rt.id===nt?{...Rt,...rt}:Rt)),alert("!")}catch(gt){console.error("Error updating:",gt),alert("")}},H=async()=>{if(window.confirm(" 10 ? ()"))try{for(const nt of Lx)await Mx(o0(Qd,"lessons",nt.id),nt);alert(" 10 ! "),window.location.reload()}catch(nt){console.error(nt),alert("")}},Z=async()=>{window.confirm("?")&&(await Xw(lh),A({}))};if(l)return M.jsx("div",{className:"flex h-screen items-center justify-center bg-gray-50 text-indigo-600 font-bold text-xl",children:"..."});if(!s)return M.jsx(Ux,{});const et=Object.values(S).reduce((nt,rt)=>nt+rt,0),tt=i.length*3,$=i.length>0?Math.round(Object.keys(S).length/i.length*100):0;return M.jsxs("div",{className:"min-h-screen bg-gray-50 font-sans text-gray-800",children:[s.role==="admin"&&i.length===0&&M.jsx("button",{onClick:H,className:"fixed bottom-4 right-4 bg-red-600 text-white px-6 py-4 rounded-full shadow-2xl z-50 animate-bounce font-bold border-4 border-white",children:"  10 "}),M.jsxs("nav",{className:"bg-indigo-600 text-white shadow-lg sticky top-0 z-40",children:[M.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:M.jsxs("div",{className:"flex items-center justify-between h-16",children:[M.jsxs("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>g("home"),children:[M.jsx(Bc,{className:"h-8 w-8 text-yellow-300"}),M.jsx("span",{className:"font-bold text-xl hidden sm:block",children:"Equation Media"}),s.role==="admin"&&M.jsx("span",{className:"bg-red-500 text-xs px-2 py-0.5 rounded-full font-bold ml-2",children:"ADMIN"})]}),M.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[["home","lessons","about"].map(nt=>M.jsx("button",{onClick:()=>g(nt),className:`px-3 py-2 rounded-md text-sm font-medium transition ${d===nt?"bg-indigo-700":"hover:bg-indigo-500"}`,children:nt==="home"?"":nt==="lessons"?"":""},nt)),M.jsxs("div",{className:"ml-4 border-l border-indigo-500 pl-4 flex items-center gap-3",children:[M.jsxs("div",{className:"text-right text-xs",children:[M.jsx("div",{className:"font-bold",children:s.username}),M.jsx("div",{className:"text-indigo-200",children:s.role.toUpperCase()})]}),M.jsx("button",{onClick:Z,className:"p-2 bg-indigo-700 rounded-full hover:bg-red-500 transition",children:M.jsx(JS,{size:16})})]})]}),M.jsx("div",{className:"-mr-2 flex md:hidden",children:M.jsx("button",{onClick:()=>y(!_),className:"p-2 rounded-md hover:bg-indigo-500",children:_?M.jsx(oA,{size:24}):M.jsx($S,{size:24})})})]})}),_&&M.jsxs("div",{className:"md:hidden bg-indigo-700 px-2 pt-2 pb-3 space-y-1 shadow-inner",children:[["home","lessons","about"].map(nt=>M.jsx("button",{onClick:()=>{g(nt),y(!1)},className:"block w-full text-left px-3 py-2 rounded-md hover:bg-indigo-600 text-white",children:nt==="home"?"":nt==="lessons"?"":""},nt)),M.jsx("button",{onClick:Z,className:"block w-full text-left px-3 py-2 rounded-md bg-red-600 mt-2 text-white hover:bg-red-700",children:""})]})]}),M.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d==="home"&&M.jsx(zx,{changeTab:g,progress:$,totalLessons:i.length,totalScore:et,maxScore:tt}),d==="lessons"&&M.jsx(jx,{lessons:i,userRole:s.role,onUpdateLesson:x,quizResults:S,setQuizResults:A}),d==="about"&&M.jsx(qx,{})]})]})},zx=({changeTab:s,progress:t,totalLessons:i,totalScore:a,maxScore:l})=>M.jsxs("div",{className:"space-y-8 animate-fade-in",children:[M.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-8 text-white shadow-xl relative overflow-hidden group",children:[M.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-5 rounded-full -mr-16 -mt-16 blur-3xl group-hover:opacity-10 transition duration-700"}),M.jsxs("div",{className:"relative z-10",children:[M.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:" Equation Learning Media"}),M.jsx("p",{className:"text-lg md:text-xl text-blue-100 mb-8 max-w-2xl",children:" "}),M.jsxs("button",{onClick:()=>s("lessons"),className:"bg-yellow-400 text-blue-900 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-yellow-300 flex items-center gap-2 transition transform hover:-translate-y-1",children:[M.jsx(qS,{size:20}),"  1"]})]})]}),M.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[M.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border-l-4 border-green-500 hover:shadow-lg transition",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"text-gray-500 text-sm font-bold",children:""}),M.jsx(US,{className:"text-green-500",size:24})]}),M.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[t,"%"]}),M.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 mt-2",children:M.jsx("div",{className:"bg-green-500 h-2.5 rounded-full transition-all duration-1000",style:{width:`${t}%`}})})]}),M.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border-l-4 border-yellow-500 hover:shadow-lg transition",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"text-gray-500 text-sm font-bold",children:""}),M.jsx(g0,{className:"text-yellow-500",size:24})]}),M.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[a," ",M.jsxs("span",{className:"text-xl text-gray-400",children:["/ ",l]})]})]}),M.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border-l-4 border-blue-500 hover:shadow-lg transition",children:[M.jsxs("div",{className:"flex justify-between items-center mb-2",children:[M.jsx("span",{className:"text-gray-500 text-sm font-bold",children:""}),M.jsx(Yd,{className:"text-blue-500",size:24})]}),M.jsxs("p",{className:"text-4xl font-bold text-gray-800",children:[i," ",M.jsx("span",{className:"text-xl text-gray-400",children:""})]})]})]})]}),jx=({lessons:s,userRole:t,onUpdateLesson:i,quizResults:a,setQuizResults:l})=>{const[c,d]=$t.useState(null),[g,_]=$t.useState("study"),[y,S]=$t.useState(!1),[A,x]=$t.useState({title:"",content:"",quiz:[]}),H=s.find($=>$.id===c);$t.useEffect(()=>{H&&y&&x({title:H.title,content:H.content,quiz:H.quiz||[]})},[y,H]);const Z=()=>{i(c,A),S(!1)},et=($,nt,rt,gt=null)=>{const xt=[...A.quiz];nt==="q"&&(xt[$].q=rt),nt==="ans"&&(xt[$].ans=parseInt(rt)),nt==="option"&&gt!==null&&(xt[$].options[gt]=rt),x({...A,quiz:xt})},tt=$=>{l(nt=>({...nt,[c]:Math.max(nt[c]||0,$)}))};return c?M.jsxs("div",{className:"animate-fade-in max-w-4xl mx-auto",children:[M.jsxs("button",{onClick:()=>d(null),className:"flex items-center text-gray-500 hover:text-indigo-600 mb-6 bg-white px-4 py-2 rounded-full shadow-sm hover:shadow transition",children:[M.jsx(zS,{size:20})," "]}),M.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 md:p-10 min-h-[600px]",children:[t==="admin"&&g==="study"&&M.jsx("div",{className:"flex justify-end mb-6 border-b pb-4",children:y?M.jsxs("div",{className:"flex gap-2",children:[M.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300 transition",children:""}),M.jsxs("button",{onClick:Z,className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 shadow transition",children:[M.jsx(tA,{size:16})," "]})]}):M.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 bg-yellow-100 text-yellow-700 px-4 py-2 rounded-lg hover:bg-yellow-200 font-bold transition",children:[M.jsx(nA,{size:16})," "]})}),y?M.jsxs("div",{className:"space-y-8 animate-fade-in",children:[M.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200",children:[M.jsxs("h3",{className:"text-lg font-bold mb-4 text-indigo-700 flex items-center gap-2",children:[M.jsx(Yd,{size:20})," "]}),M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{children:[M.jsx("label",{className:"font-bold block mb-2 text-sm",children:""}),M.jsx("input",{className:"w-full border p-2 rounded focus:ring-2 focus:ring-indigo-500 outline-none",value:A.title,onChange:$=>x({...A,title:$.target.value})})]}),M.jsxs("div",{children:[M.jsx("label",{className:"font-bold block mb-2 text-sm",children:" (Text)"}),M.jsx("textarea",{className:"w-full border p-2 rounded h-64 focus:ring-2 focus:ring-indigo-500 outline-none font-mono text-sm",value:A.content,onChange:$=>x({...A,content:$.target.value})})]})]})]}),M.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-200",children:[M.jsxs("h3",{className:"text-lg font-bold mb-4 text-blue-700 flex items-center gap-2",children:[M.jsx(Bc,{size:20}),"  (3 )"]}),M.jsx("div",{className:"space-y-6",children:A.quiz.map(($,nt)=>M.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-blue-100",children:[M.jsxs("div",{className:"mb-3",children:[M.jsxs("label",{className:"block text-sm font-bold mb-1 text-gray-700",children:[" ",nt+1]}),M.jsx("input",{className:"w-full border p-2 rounded bg-gray-50 focus:bg-white transition",value:$.q,onChange:rt=>et(nt,"q",rt.target.value)})]}),M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:$.options.map((rt,gt)=>M.jsxs("div",{className:"relative",children:[M.jsx("input",{className:`w-full border p-2 rounded pr-8 ${$.ans===gt?"border-green-500 bg-green-50 ring-1 ring-green-500":""}`,value:rt,onChange:xt=>et(nt,"option",xt.target.value,gt),placeholder:` ${gt+1}`}),$.ans===gt&&M.jsx(Xd,{size:16,className:"absolute right-2 top-3 text-green-600"})]},gt))}),M.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 p-2 rounded",children:[M.jsx("label",{className:"text-sm font-bold text-gray-600",children:" ():"}),M.jsx("select",{value:$.ans,onChange:rt=>et(nt,"ans",rt.target.value),className:"border p-1 rounded text-sm bg-white",children:$.options.map((rt,gt)=>M.jsxs("option",{value:gt,children:[" ",gt+1]},gt))})]})]},nt))})]})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"mb-8 border-b pb-4",children:[M.jsxs("span",{className:"text-indigo-600 font-bold bg-indigo-50 px-3 py-1 rounded-full text-sm",children:[" ",H.id]}),M.jsx("h2",{className:"text-3xl font-bold mt-2 text-gray-800",children:H.title})]}),g==="study"?M.jsxs("div",{className:"animate-fade-in",children:[M.jsx("div",{className:"prose max-w-none text-gray-700 text-lg leading-loose whitespace-pre-wrap font-sans",children:H.content}),M.jsxs("div",{className:"mt-16 text-center bg-indigo-50 p-8 rounded-2xl border border-indigo-100",children:[M.jsx("h3",{className:"font-bold text-indigo-900 mb-2 text-xl",children:"?"}),M.jsx("p",{className:"text-indigo-600 mb-6",children:""}),M.jsxs("button",{onClick:()=>_("quiz"),className:"bg-indigo-600 text-white px-10 py-4 rounded-full hover:bg-indigo-700 shadow-lg font-bold inline-flex items-center gap-2 transition transform hover:-translate-y-1",children:[M.jsx(Bc,{size:24})," "]})]})]}):M.jsx(Bx,{lesson:H,onComplete:tt,onBack:()=>_("study")})]})]})]}):M.jsxs("div",{className:"animate-fade-in",children:[M.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[M.jsx(Yd,{className:"text-indigo-600"})," "]}),s.length===0?M.jsxs("div",{className:"text-center py-20 bg-white rounded-xl shadow border border-dashed border-gray-300",children:[M.jsx("p",{className:"text-gray-400 text-lg",children:""}),t==="admin"&&M.jsx("p",{className:"text-red-500 text-sm mt-2",children:" Seed Data "})]}):M.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map($=>M.jsxs("div",{onClick:()=>{d($.id),_("study"),S(!1),window.scrollTo(0,0)},className:"bg-white rounded-xl shadow hover:shadow-xl cursor-pointer transition duration-300 border border-transparent hover:border-indigo-300 p-6 group flex flex-col h-full",children:[M.jsxs("div",{className:"flex justify-between items-start mb-4",children:[M.jsxs("span",{className:"bg-indigo-50 text-indigo-700 text-xs font-bold px-2 py-1 rounded border border-indigo-100",children:[" ",$.id]}),a[$.id]!==void 0?M.jsxs("span",{className:"flex items-center text-green-600 text-xs font-bold bg-green-50 px-2 py-1 rounded",children:[M.jsx(Xd,{size:14,className:"mr-1"})," ",a[$.id],"/3"]}):M.jsxs("span",{className:"flex items-center text-gray-400 text-xs bg-gray-50 px-2 py-1 rounded",children:[M.jsx(KS,{size:14,className:"mr-1"})," "]})]}),M.jsx("h3",{className:"font-bold text-lg mb-2 group-hover:text-indigo-600 transition line-clamp-2",children:$.title}),M.jsx("p",{className:"text-gray-500 text-sm line-clamp-2 mb-4 flex-grow",children:$.summary}),M.jsxs("div",{className:"pt-4 border-t border-gray-100 flex items-center text-indigo-600 font-medium text-sm group-hover:translate-x-1 transition-transform",children:[" ",M.jsx(m0,{size:16,className:"ml-1"})]})]},$.id))})]})},Bx=({lesson:s,onComplete:t,onBack:i})=>{const[a,l]=$t.useState(0),[c,d]=$t.useState(0),[g,_]=$t.useState(null),[y,S]=$t.useState(!1),A=H=>{g===null&&(_(H),H===s.quiz[a].ans&&d(Z=>Z+1))},x=()=>{a<s.quiz.length-1?(l(H=>H+1),_(null)):(S(!0),t(c+(g===s.quiz[a].ans?1:0)-c))};return y?M.jsxs("div",{className:"text-center py-16 animate-fade-in",children:[M.jsx("div",{className:"w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6 animate-bounce",children:M.jsx(g0,{size:48,className:"text-yellow-600"})}),M.jsxs("h3",{className:"text-2xl font-bold text-gray-800",children:[" ",s.id]}),M.jsxs("p",{className:"text-6xl font-extrabold text-indigo-600 my-6",children:[c," ",M.jsxs("span",{className:"text-3xl text-gray-300",children:["/ ",s.quiz.length]})]}),M.jsxs("div",{className:"flex justify-center gap-4",children:[M.jsx("button",{onClick:i,className:"bg-gray-200 text-gray-700 px-6 py-3 rounded-xl font-bold hover:bg-gray-300 transition",children:""}),M.jsx("button",{onClick:()=>i(),className:"bg-gray-800 text-white px-6 py-3 rounded-xl font-bold hover:bg-gray-900 transition",children:""})]})]}):M.jsxs("div",{className:"animate-fade-in max-w-2xl mx-auto",children:[M.jsxs("div",{className:"flex justify-between mb-8",children:[M.jsxs("div",{children:[M.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""}),M.jsxs("h3",{className:"text-3xl font-bold text-indigo-600",children:[a+1,M.jsxs("span",{className:"text-gray-300 text-xl",children:["/",s.quiz.length]})]})]}),M.jsxs("div",{className:"text-right",children:[M.jsx("span",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:""}),M.jsx("div",{className:"text-xl font-bold text-gray-800",children:c})]})]}),M.jsx("h3",{className:"text-xl font-bold mb-8 text-gray-800 leading-normal",children:s.quiz[a].q}),M.jsx("div",{className:"space-y-4",children:s.quiz[a].options.map((H,Z)=>{const et=g===Z,tt=Z===s.quiz[a].ans;let $="w-full p-5 text-left border-2 rounded-xl transition font-medium text-lg relative ";return g===null?$+="border-gray-100 hover:border-indigo-500 hover:bg-indigo-50 text-gray-600":tt?$+="bg-green-100 border-green-500 text-green-800":et?$+="bg-red-100 border-red-500 text-red-800":$+="border-gray-100 text-gray-400 opacity-50",M.jsx("button",{onClick:()=>A(Z),disabled:g!==null,className:$,children:M.jsxs("div",{className:"flex justify-between items-center",children:[H,g!==null&&tt&&M.jsx(Xd,{size:24,className:"text-green-600"}),g!==null&&et&&!tt&&M.jsx(FS,{size:24,className:"text-red-600"})]})},Z)})}),g!==null&&M.jsx("div",{className:"mt-8 flex justify-end animate-fade-in",children:M.jsxs("button",{onClick:x,className:"bg-indigo-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-indigo-700 shadow-lg inline-flex items-center gap-2 transition transform hover:-translate-y-1",children:[a<s.quiz.length-1?"":""," ",M.jsx(m0,{size:20})]})})]})},qx=()=>M.jsxs("div",{className:"max-w-4xl mx-auto bg-white p-10 rounded-xl shadow-md text-center animate-fade-in",children:[M.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:""}),M.jsx("p",{className:"text-indigo-600 font-medium mb-10 text-lg",children:" (Trang Technical College)"}),M.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[M.jsxs("div",{className:"p-8 border rounded-2xl hover:shadow-lg transition group",children:[M.jsx("div",{className:"w-24 h-24 bg-pink-100 rounded-full mx-auto mb-6 flex items-center justify-center text-pink-500 group-hover:scale-110 transition duration-300",children:M.jsx(z_,{size:40})}),M.jsx("h3",{className:"font-bold text-xl text-gray-800",children:" "}),M.jsx("p",{className:"text-gray-500 mt-2",children:": 67319100015"}),M.jsx("p",{className:"text-gray-400 text-sm mt-1",children:". 2/1 "})]}),M.jsxs("div",{className:"p-8 border rounded-2xl hover:shadow-lg transition group",children:[M.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full mx-auto mb-6 flex items-center justify-center text-blue-500 group-hover:scale-110 transition duration-300",children:M.jsx(z_,{size:40})}),M.jsx("h3",{className:"font-bold text-xl text-gray-800",children:" "}),M.jsx("p",{className:"text-gray-500 mt-2",children:": 67319100022"}),M.jsx("p",{className:"text-gray-400 text-sm mt-1",children:". 2/1 "})]})]})]});RS.createRoot(document.getElementById("root")).render(M.jsx($t.StrictMode,{children:M.jsx(Px,{})}));
